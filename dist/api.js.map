{"version":3,"sources":["webpack:///webpack/bootstrap e4751d56a3ea12c51f70","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/core.js","webpack:///../ddv-restful-api/util/index.js","webpack:///../ddv-restful-api/lib/api.js","webpack:///../ddv-restful-api/lib/sign.js","webpack:///../ddv-restful-api/lib/url.js","webpack:///./lib/api.js","webpack:///../ddv-restful-api/lib/request.js","webpack:///../ddv-restful-api/lib/session.js","webpack:///../ddv-restful-api/events/index.js","webpack:///../ddv-restful-api/lib/ajax.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/enc-base64.js","webpack:///../ddv-restful-api/lib/apiExternal.js","webpack:///../ddv-restful-api/lib/apiTryData.js","webpack:///../ddv-restful-api/util/nextTick.js","webpack:///./lib/clientWebSocket.js","webpack:///./lib/pushApi.js","webpack:///./lib/requestWs.js","webpack:///./lib/requestWsPrototype.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/enc-hex.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/enc-utf8.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/hmac-sha256.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/hmac.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/md5.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/sha256.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/ddv-rowraw/index.js","webpack:////Users/hua/Documents/pingqu/pingqu-cdn/~/ddv-rowraw/lib/index.js","webpack:///external \"events\"","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///./lib/index.js"],"names":["module","exports","util","createNewidSumLast","createNewidTimeLast","Object","assign","createNewPid","createNewid","is10","r","time","toString","parseInt","createGuid","s","replace","c","Math","random","v","createRequestId","pid","rid","ridLen","ridT","ridNew","i","Number","length","charAt","substr","now","Date","getTime","isFunction","fn","isArray","Array","apply","arguments","isNumber","obj","parseFloat","isGlobal","global","inArray","a","b","clone","myObj","myNewObj","undefined","push","constructor","innerHTML","innerText","tagName","tabIndex","copyObjByKey","oldObj","newObj","keys","forEach","key","setErrorId","errorId","error","error_id","argsToArray","args","prototype","slice","call","nextTick","require","kEscapedMap","urlEncode","string","encodingSlash","result","encodeURIComponent","$1","urlEncodeExceptSlash","value","buildParams","data","isQuery","_buildParamsToArray","join","prefix","keyt","_buildParamsAddPrefix","hasOwnProperty","isNotArray","ddvRestFulApi","url","request","sign","EventEmitter","path","req","res","promise","Promise","resolve","reject","then","apiPromiseInit","apiPromiseRun","_request","e","serverRes","JSON","parse","body","e1","console","log","statusCode","status","message","state","code","msg","Error","destroy","apiPromiseBaseInit","options","catch","isSessionInit","sendData","headers","method","context","create","queryObject","query","baseUrl","isServerNode","host","port","protocol","request_id","buildParamsRun","str","toUpperCase","send","requests","response","success","fail","split","ddvRestFulApiMethod","utilInitKey","apiUtil","setBaseUrl","o","_signRun","headersPrefix","excludeHeaderKeys","setHeadersPrefix","signInit","_signRunBaseInit","_signRunQueryInit","_signRunHeadersFormat","_signRunHeadersSort","session","getTrueData","sessionId","sessionData","session_id","sessionKey","session_key","sessionCard","session_card","differenceTime","difference_time","Authorization","getUTCServerTime","signingKey","HmacSHA256","canonicalRequest","n","authCanonicalHeadersStr","sessionSign","authHeadersStr","headersPrefixLen","keyLower","headersOld","toLowerCase","indexOf","sort","headersTemp","_trim","Host","md5Base64","queryArray","t","d","getTimezoneOffset","getUTCFullYear","_replenish","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","text","total","rstr","rstrlen","rstri","trim","md5Hex","isToString","cryptoJsCore","MD5","cryptoJsHex","cryptoJsBase64","_t","RegExp","_d","decodeURIComponent","_i","arg","sptr","substring","_f","field","params","tmp","arg2","ii","match","_l","window","location","email","hash","file","filename","fileext","auth","user","pass","hostname","tld","domain","sub","runRequest","ajax","api","getSessionTrueCbs","getSessionInitCbs","_getSessionTrueDataCbsIng","_getSessionInitCbsIng","setLongStorage","isUseLong","isLongStorage","Boolean","setSessionInitTrySum","sum","initTrySum","setSessionInitPath","sessionInitPath","unescape","escape","init","isRun","_getSessionInitCbs","bind","isClientWindow","_initRun","cbt","shift","_initRunBaseInit","initTryNum","getData","createCard","authorization","_serverResObj","type","session_data","server_time","local_time","expires_time","setData","stringify","_getSessionTrueDataCbs","_getTrueDataRun","sessionO","cookieName","cookieNameEnCode","isSessionDataPass","sessionDataStr","sessionDataOldStr","_cookieNameEnCode","_setDataNode","_setDataClient","_getDataNode","_getDataClient","arrayToStr","cookiename","cookieDdvRestfulApiStr","_getCookiesServer","_setCookiesServer","getExpiresDate","cookies","_getCookiesByStr","cookie","expires","isSecure","secure","cookiesSetArray","setHeader","isLocalCookie","isLocalStorage","isSessionStorage","_getCookiesClient","localStorage","getItem","_setCookiesClient","sessionStorage","setItem","document","VS_COOKIEDM","name","enc","Utf8","days","hours","minutes","seconds","ExpiresDate","setDate","getDate","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","toGMTString","http","https","isWindow","ajaxbyWindow","ajaxbyNode","parseUrl","xhr","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","statusText","rawHeaders","statusMessage","getAllResponseHeaders","header","matches","open","vt","setRequestHeader","opt","on","write","end","pathquery","tryGetData","promiseFnRun","_dataOld","promiseFnReload","self","tryGetDataRun","_promise","inputData","resData","dataErrorEmit","isReload","_onDataServerErrorFn","onDataServerError","_onDataClientErrorFn","onDataClientError","input","checkOnDataErrorArr","isServer","onCatch","nextTickQueue","nextTickSys","fnc","process","prefixes","setImmediate","postMessage","f","setTimeout","addEventListener","splice","WebSocket","requestWs","pushOpen","cb","pushOpenRun","pushClose","pushCloseRun","bodytype","start","getSingleton","wsobj","emit","debug","emitState","DdvRequestWs","agrs","ws","singleton","rowraw","connPromise","processWs","webSocketUrl","wsPushInit","addtime","stringifyPromise","raw","conn","requestId","webSocket","sendCb","isWsConned","isWsConning","all","connRun","connCb","onopen","onmessage","parsePromise","onclose","onerror","_isTryNum","_isTrySum","olde","cbs","headersR","closeWs"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA;AACA;AACA,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA,mBAAmB,MAAM;AACzB,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA,cAAc;AACd;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,oCAAoC,YAAY;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA;;AAEA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;;AAEA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qCAAqC,sBAAsB;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;;AAEV;AACA,MAAM;;AAEN;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,UAAU;;AAEV;;AAEA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;;AAEA,CAAC,G;;;;;;;ACvvBD;AACA;;;;AACAA,OAAOC,OAAP,GAAiBC,IAAjB;AACA;AACA,IAAIC,qBAAqB,CAAzB;AACA;AACA,IAAIC,sBAAsB,CAA1B;AACA;AACAC,OAAO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I,CAIC,IAJD,CAdN;AAmBD,KAtCD;AAuCD,GA/PsB;AAgQvB6K,WAAS,SAASA,OAAT,GAAoB,CAE5B;AAlQsB,CAAzB,E;;;;;;ACVA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA,CAAC,G;;;;;;ACjBD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA,CAAC,G;;;;;;ACjBD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA,CAAC,G;;;;;;ACjBD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN,EAAE;;;AAGF,CAAC,G;;;;;;AC9ID,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA4B,OAAO;AACnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC,gBAAgB,iBAAiB;AACjC;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;;AAEA,CAAC,G;;;;;;AC3QD,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;;AAEV;AACA;AACA;;AAEA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC,gBAAgB,iBAAiB;AACjC;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;;AAEA,CAAC,G;;;;;;ACtMD;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,+CAA+C,mBAAmB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxVA,mC;;;;;;ACAA,iC;;;;;;ACAA,kC;;;;;;;ACAA;;AACA5b,OAAOC,OAAP,GAAiB,mBAAA0E,CAAQ,CAAR,CAAjB,C","file":"api.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4751d56a3ea12c51f70",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/core.js\n// module id = 0\n// module chunks = 0","'use strict'\n// 导出模块\nmodule.exports = util\n// 创建最后总和\nvar createNewidSumLast = 0\n// 创建最后时间\nvar createNewidTimeLast = 0\n// 创建请求id\nObject.assign(util, {\n  createNewPid: function createNewid (is10) {\n    var r\n    if (createNewidTimeLast !== util.time()) {\n      createNewidTimeLast = util.time()\n      createNewidSumLast = 0\n    }\n    r = createNewidTimeLast.toString() + (++createNewidSumLast).toString()\n    // 使用36进制\n    if (!is10) {\n      r = parseInt(r, 10).toString(36)\n    }\n    return r\n  },\n  // 生成guid\n  createGuid: function createGuid (s) {\n    return (s || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx').replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0\n      var v = c === 'x' ? r : (r & 0x3 | 0x8)\n      return v.toString(16)\n    })\n  }\n})\n\n// 生成请求id\nObject.assign(util, {\n  // 生成请求id\n  createRequestId: function createRequestId () {\n    var pid, rid, ridLen, ridT, ridNew, i\n    // 获取16进制的 pid\n    pid = Number(util.createNewPid(true)).toString(16)\n    // 种子\n    rid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\n    ridNew = ''\n    for (i = rid.length - 1; i >= 0; i--) {\n      ridT = rid[i]\n      if (ridT === 'x') {\n        ridLen = pid.length\n        ridT = pid ? pid.charAt(ridLen - 1) : 'x'\n        pid = pid.substr(0, ridLen - 1)\n      }\n      ridNew = ridT + ridNew\n    }\n    rid = util.createGuid(ridNew)\n    i = ridNew = ridT = ridLen = pid = void 0\n    return rid\n  }\n})\n\n// 时间工具\nObject.assign(util, {\n  // 获取当前时间开始\n  now: function now () {\n    return (new Date()).getTime()\n  },\n  // 获取php的时间戳\n  time: function time () {\n    return parseInt(util.now() / 1000)\n  }\n})\n\n// 基本判断\nObject.assign(util, {\n  // 判断是一个方法\n  isFunction: function isFunction (fn) {\n    return typeof fn === 'function'\n  },\n  // 判断是否为一个数组\n  isArray: function isArray () {\n    return Array.isArray.apply(this, arguments)\n  },\n  isNumber: function isNumber (obj) {\n    return (typeof obj === 'string' || typeof obj === 'number') && (!util.isArray(obj) && (obj - parseFloat(obj) >= 0))\n  },\n  // 判断是否一个标准的global\n  isGlobal: function isGlobal (obj) {\n    return obj !== void 0 && obj === obj.global\n  },\n  // 类似php里面的inArray\n  inArray: function inArray (a, b) {\n    if (!util.isArray(b)) {\n      return false\n    }\n    for (var i in b) {\n      if (b[i] === a) {\n        return true\n      }\n    }\n    return false\n  }\n})\n\n// 基本工具\nObject.assign(util, {\n  // 克隆\n  clone: function clone (myObj) {\n    var i, myNewObj\n    if (!(myObj && typeof myObj === 'object')) {\n      return myObj\n    }\n    if (myObj === null || myObj === undefined) {\n      return myObj\n    }\n    myNewObj = ''\n    if (Array.isArray(myObj)) {\n      myNewObj = []\n      for (i = 0; i < myObj.length; i++) {\n        myNewObj.push(myObj[i])\n      }\n    } else if (typeof myObj === 'object') {\n      myNewObj = {}\n      if (myObj.constructor && myObj.constructor !== Object) {\n        myNewObj = myObj\n      // 防止克隆ie下克隆  Element 出问题\n      } else if (myObj.innerHTML !== undefined && myObj.innerText !== undefined && myObj.tagName !== undefined && myObj.tabIndex !== undefined) {\n        myNewObj = myObj\n      } else {\n        for (i in myObj) {\n          myNewObj[i] = clone(myObj[i])\n        }\n      }\n    }\n    return myNewObj\n  },\n  // 复制对象，通过制定key\n  copyObjByKey: function copyObjByKey (oldObj, newObj, keys) {\n    keys = keys || []\n    keys.forEach(function (key) {\n      oldObj[key] = newObj[key] || oldObj[key]\n    })\n  },\n  // 设置错误id\n  setErrorId: function setErrorId (errorId, error) {\n    error.errorId = errorId\n    error.error_id = errorId\n    return error\n  },\n  // 参数强转数组\n  argsToArray: function argsToArray (args) {\n    return Array.prototype.slice.call(args)\n  }\n})\n\n// nextTick\nObject.assign(util, {\n  nextTick: require('./nextTick.js')\n})\n\n// urlEncode 编码\nObject.assign(util, {\n  // 编码对照数组表\n  kEscapedMap: {\n    '!': '%21',\n    '\\'': '%27',\n    '(': '%28',\n    ')': '%29',\n    '*': '%2A'\n  },\n  // 编码\n  urlEncode: function urlEncode (string, encodingSlash) {\n    var result = encodeURIComponent(string)\n    result = result.replace(/[!'()*]/g, function ($1) {\n      return util.kEscapedMap[$1]\n    })\n    if (encodingSlash === false) {\n      result = result.replace(/%2F/gi, '/')\n    }\n    return result\n  },\n  // path编码\n  urlEncodeExceptSlash: function urlEncodeExceptSlash (value) {\n    return util.urlEncode(value, false)\n  }\n})\n// 对象序列化\nObject.assign(util, {\n  // 编码\n  buildParams: function buildParams (data, isQuery) {\n    var r = util._buildParamsToArray(data, '').join('&')\n    if (isQuery) {\n      r = r.replace(/%20/gi, '+')\n    }\n    return r\n  },\n\n  _buildParamsToArray: function _buildParamsToArray (data, prefix) {\n    var r = []\n    var i, key, keyt, value\n    if (typeof data === 'object') {\n      // 数组\n      if (util.isArray(data)) {\n        for (i = 0; i < data.length; i++) {\n          // 值\n          value = data[i]\n          // 键\n          keyt = util._buildParamsAddPrefix(i, prefix, (typeof value === 'object'))\n          // 递归处理对象和数组\n          if (typeof value === 'object') {\n            // 插入数组\n            r.push.apply(r, util._buildParamsToArray(value, keyt))\n          } else {\n            // 插入数组\n            r.push(util.urlEncode(keyt) + '=' + util.urlEncode(value))\n          }\n        }\n      } else {\n        for (key in data) {\n          if (!Object.hasOwnProperty.call(data, key)) {\n            continue\n          }\n          // 值\n          value = data[key]\n          // 键\n          keyt = util._buildParamsAddPrefix(key, prefix)\n          if (typeof value === 'object') {\n            // 插入数组\n            r.push.apply(r, util._buildParamsToArray(value, keyt))\n          } else {\n            // 插入数组\n            r.push(util.urlEncode(keyt) + '=' + util.urlEncode(value))\n          }\n        }\n      }\n    }\n    return r\n  },\n  _buildParamsAddPrefix: function _buildParamsAddPrefix (key, prefix, isNotArray) {\n    if (prefix) {\n      return prefix + '[' + (isNotArray !== false ? key : '') + ']'\n    } else {\n      return key\n    }\n  }\n})\n\nfunction util () {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/util/index.js","'use strict'\n// 导出模块\nmodule.exports = ddvRestFulApi\n// 工具\nvar util = require('../util')\nvar url = require('./url.js')\nvar request = require('./request.js')\nvar sign = require('./sign.js')\nvar EventEmitter = require('../events')\nObject.assign(ddvRestFulApi, EventEmitter.prototype, new EventEmitter())\n// 方法\nfunction ddvRestFulApi (path, req, res) {\n  var promise = new Promise(function (resolve, reject) {\n    new Promise(function (resolve, reject) {\n      // 下一进程运行\n      util.nextTick(function () {\n        // 这个直接提交，因为该操作仅仅是为了延迟\n        resolve()\n        // 回收\n        resolve = reject = void 0\n      })\n    })\n    .then(function () {\n      // 初始化接口\n      return apiPromiseInit(promise, path, req, res)\n    })\n    .then(function () {\n      // 回收资源\n      path = req = res = void 0\n      // api接口运行\n      return apiPromiseRun(promise)\n    })\n    .then(function (_request) {\n      return new Promise(function (resolve, reject) {\n        var r = null\n        var e = null\n        var res = _request.serverRes\n        try {\n          r = JSON.parse(res.body)\n        } catch (e1) {\n          e = e1\n          e.body = res.body\n          console.log(e.body)\n        }\n        if (e) {\n          e.statusCode = res.statusCode\n          e.error_id = res.status\n          e.message = res.status || 'Unknow Error'\n          reject(e)\n        } else if (r) {\n          if (r.state) {\n            r.statusCode = r.statusCode || r.code || res.statusCode\n            r.error_id = r.error_id || res.status\n            r.message = r.message || r.msg || res.status || 'Unknow Error'\n            resolve(r)\n          } else {\n            e = new Error(r.message || r.msg || res.status || 'Unknow Error')\n            e.statusCode = r.statusCode || r.code || res.statusCode\n            e.error_id = r.error_id || res.status\n            e.message = r.message || r.msg || res.status || 'Unknow Error'\n            reject(e)\n          }\n        }\n        _request.destroy()\n        _request = resolve = reject = r = e = res = void 0\n      })\n    })\n    .then(function (res) {\n      util.nextTick(function () {\n        util.isFunction(promise.destroy) && promise.destroy()\n        // 回收资源\n        promise = void 0\n      })\n      return res\n    })\n    // 绑定回调\n    .then(resolve, reject)\n    // 回收\n    resolve = reject = void 0\n  })\n  return apiPromiseBaseInit(promise)\n}\nfunction apiPromiseRun (promise) {\n  return sign(promise.options)\n  .then(function (options) {\n    return request(options)\n  }).catch(function (e) {\n    if (parseInt(promise.options.serverRes.statusCode) === 403) {\n      promise.options.isSessionInit = true\n      // 重新运行一次\n      return apiPromiseRun(promise)\n    } else {\n      // 还是原路抛出错误\n      return Promise.reject(e)\n    }\n  })\n}\nfunction apiPromiseInit (promise, path, req, res) {\n  var options = promise.options\n  return new Promise(function (resolve, reject) {\n    if (typeof path === 'object') {\n      promise.path(path.path)\n      promise.sendData(path.data)\n      promise.headers(path.headers)\n      promise.method(path.method)\n      resolve()\n    } else if (typeof path === 'string') {\n      promise.path(path || '/')\n      resolve()\n    } else {\n      var e = new Error('method type error')\n      e.error_id = 'UNKNOW_ERROR'\n      reject(e)\n    }\n  }).then(function () {\n    // 设定请求对象\n    if (req && req.req && req.res) {\n      promise.context(req)\n    } else {\n      promise.req(req)\n      promise.res(res)\n    }\n  }).then(function () {\n    options.serverRes = Object.create(null)\n    options.serverRes.statusCode = 0\n    options.serverRes.status = 'UNKNOW_ERROR'\n    options.serverRes.body = ''\n  }).then(function () {\n    options.method = options.method || 'GET'\n    options.queryObject = options.queryObject || Object.create(null)\n    if (typeof options.query === 'object') {\n      options.query = ''\n      Object.assign(options.queryObject, options.query)\n    }\n    options.path = options.path || '/'\n    options.path = (options.path.charAt(0) === '/' ? '' : '/') + options.path\n    options.query = (url('query', options.path) || '').toString()\n    options.path = url('path', options.path) || '/'\n    options.baseUrl = options.baseUrl || ddvRestFulApi.baseUrl || ''\n    options.isServerNode = (options.req && options.res && true) || false\n\n    options.host = url('hostname', options.baseUrl)\n    options.port = url('port', options.baseUrl)\n    options.protocol = url('protocol', options.baseUrl)\n    options.request_id = options.request_id || util.createRequestId()\n  }).then(function buildParamsRun () {\n    var str\n    if (options.queryObject) {\n      str = util.buildParams(options.queryObject, true)\n      if (str) {\n        options.query += (options.query.length > 0 ? '&' : '') + str\n      }\n    }\n    if (options.method === 'GET') {\n      str = util.buildParams(options.data, true)\n      if (str) {\n        options.query += (options.query.length > 0 ? '&' : '') + str\n      }\n    } else {\n      options.body = util.buildParams(options.data)\n    }\n    options = void 0\n  })\n}\n\nfunction apiPromiseBaseInit (promise) {\n  // 基本参数\n  Object.assign(promise, {\n    options: {\n      path: '/',\n      method: 'GET',\n      headers: Object.create(null),\n      data: Object.create(null),\n      query: Object.create(null),\n      req: null,\n      res: null\n    }\n  })\n  // 基本方法\n  Object.assign(promise, {\n    headers: function headers (headers) {\n      this.options.headers = this.options.headers || Object.create(null)\n      Object.assign(this.options.headers, headers || Object.create(null))\n      return this\n    },\n    path: function path (path) {\n      this.options.path = (path || '/').toString()\n      return this\n    },\n    method: function method (method) {\n      this.options.method = (method || this.options.method || 'GET').toString().toUpperCase()\n      return this\n    },\n    // 发送别名\n    send: function sendData (data) {\n      this.options.data = this.options.data || Object.create(null)\n      Object.assign(this.options.data, data || Object.create(null))\n      return this\n    },\n    query: function query (data) {\n      this.options.query = this.options.query || Object.create(null)\n      Object.assign(this.options.query, data || Object.create(null))\n      return this\n    },\n    req: function req (req) {\n      this.options.req = req || this.options.req || null\n    },\n    res: function res (res) {\n      this.options.res = res || this.options.res || null\n    },\n    context: function context (context) {\n      if (context.req && context.res) {\n        this.req(context.req)\n        this.res(context.res)\n      } else if (context.requests && context.response) {\n        this.req(context.requests)\n        this.res(context.response)\n      }\n    },\n    // 销毁\n    destroy: function destroy () {\n      util.nextTick.call(this, function () {\n        var key\n        for (key in this) {\n          if (!Object.hasOwnProperty.call(this, key)) continue\n          delete this[key]\n        }\n        key = void 0\n      })\n    }\n  })\n  // 基本方法\n  Object.assign(promise, {\n    // 发送别名\n    sendData: promise.send,\n    // 成功别名\n    success: promise.then,\n    // 错误别名\n    error: promise.catch,\n    // 失败别名\n    fail: promise.catch\n  })\n  return promise\n}\n\n// 继承使用 Promise 的继承\nddvRestFulApi.prototype = Promise.prototype\n// 默认导出支持 - 允许在 TypeScript 中使用默认导入语法\nddvRestFulApi['default'] = ddvRestFulApi\n// 复制 Promise 的一些方法\n'all race reject resolve'.split(' ').forEach(function (key) {\n  ddvRestFulApi[key] = function () {\n    return Promise[key].apply(Promise, arguments)\n  }\n})\n// 支持五大请求\n'get post put patch del delete'.split(' ').forEach(function (key) {\n  if (!key) {\n    key = 'get'\n  }\n  ddvRestFulApi[key] = function ddvRestFulApiMethod () {\n    key = key === 'del' ? 'delete' : key\n    return ddvRestFulApi.apply(ddvRestFulApi, arguments).method(key.toUpperCase())\n  }\n})\n\nObject.assign(ddvRestFulApi, {\n  // 默认安装一下方法\n  utilInitKey: 'api get post put del delete data'.split(' '),\n  // 安装模块\n  util: function apiUtil (util) {\n    // 扩展请求接口\n    ddvRestFulApi.utilInitKey.forEach(function (key) {\n      util[key] = key === 'api' ? ddvRestFulApi : ddvRestFulApi[key]\n    })\n    // 承诺\n    util.Promise = util.Promise || Promise\n  },\n  // 设置baseUrl\n  setBaseUrl: function setBaseUrl (baseUrl) {\n    ddvRestFulApi.baseUrl = baseUrl\n  }\n\n})\n\nrequire('./apiTryData.js')\n// 对外扩张接口\nrequire('./apiExternal.js')\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/api.js","'use strict'\n// 导出签名模块\n// 工具\nvar util = require('../util')\nvar sign = module.exports = Object.assign(function sign (o) {\n  return sign._signRun(o)\n}, {\n  headersPrefix: 'x-ddv-',\n  excludeHeaderKeys: ['host', 'content-length', 'content-type', 'content-md5'],\n  // 设置headersPrefix\n  setHeadersPrefix: function setHeadersPrefix (prefix) {\n    sign.headersPrefix = prefix\n  },\n  // 签名头\n  _signRun: function (o) {\n    return new Promise(function signInit (resolve, reject) {\n      // base初始化\n      sign._signRunBaseInit(o)\n      // 初始化GET参数\n      sign._signRunQueryInit(o)\n      // 格式化头信息\n      sign._signRunHeadersFormat(o)\n      // 签名头排序\n      sign._signRunHeadersSort(o)\n      // 提交下一步\n      resolve(o)\n      o = void 0\n    }).then(function (o) {\n      // 获取校验过的session数据\n      return session.getTrueData(o)\n    }).then(function (o) {\n      // 会话id\n      var sessionId = o.sessionData.session_id\n      // 会话秘钥\n      var sessionKey = o.sessionData.session_key || 'session_key'\n      // 设备识别号\n      var sessionCard = o.sessionData.session_card\n      // 时间差\n      var differenceTime = o.sessionData.difference_time\n\n      // 授权字符串\n      o.Authorization = 'app-auth-v2' + '/' + o.request_id + '/' + sessionId + '/' + sessionCard + '/' + sign.getUTCServerTime(differenceTime) + '/' + '1800'\n      // 生成临时秘钥-用于加密的key-防止丢失正式key\n      var signingKey = sign.HmacSHA256(o.Authorization, sessionKey)\n\n      // 拼接内容\n      var canonicalRequest = o.method + o.n + util.urlEncodeExceptSlash(o.path) + o.n + o.query + o.n + o.authCanonicalHeadersStr\n      // 使用signKey和标准请求串完成签名\n      var sessionSign = sign.HmacSHA256(canonicalRequest, signingKey)\n      // 组成最终签名串\n      o.Authorization += '/' + o.authHeadersStr + '/' + sessionSign\n      // 进入下一步\n      return o\n    }).then(function (o) {\n      if (!o.headers) {\n        o.headers = Object.create(null)\n      }\n      o.headers['Authorization'] = o.Authorization\n      // 回收数据\n      delete o.authHeadersStr\n      delete o.authCanonicalHeadersStr\n      return o\n    })\n  },\n  // 签名头排序\n  _signRunHeadersSort: function (o) {\n    // 要签名的头的key的一个数组\n    o.authHeadersStr = []\n    // 签名的头\n    o.authCanonicalHeadersStr = []\n\n    o.headersPrefix = o.headersPrefix || sign.headersPrefix\n    o.headersPrefixLen = o.headersPrefix.length\n    var keyLower, key, value\n    var headersOld = o.headers\n    for (key in headersOld) {\n      if (!Object.hasOwnProperty.call(headersOld, key)) {\n        continue\n      }\n      // 取得key对应的value\n      value = headersOld[key]\n      // 小写的key\n      keyLower = key.toLowerCase()\n      // 判断一下\n      if (sign.excludeHeaderKeys.indexOf(keyLower) > -1 || keyLower.substr(0, o.headersPrefixLen) === o.headersPrefix) {\n        o.authCanonicalHeadersStr.push(util.urlEncode(keyLower) + ':' + util.urlEncode(value))\n        o.authHeadersStr.push(keyLower)\n      }\n    }\n\n    // 排序\n    o.authCanonicalHeadersStr.sort()\n    // 用\\n拼接\n    o.authCanonicalHeadersStr = o.authCanonicalHeadersStr.join(o.n)\n    // 用;拼接\n    o.authHeadersStr = o.authHeadersStr.join(';')\n  },\n  // 格式化头信息\n  _signRunHeadersFormat: function (o) {\n    // 克隆\n    var headersTemp = Object.create(null)\n    var headersOld = o.headers\n    var value = ''\n    var key = ''\n    // 遍历头\n    for (key in headersOld) {\n      // 去左右空格\n      key = sign._trim(key)\n      value = sign._trim(headersOld[key])\n      switch (key.toLowerCase()) {\n        case 'authorization':\n          continue\n        case 'host':\n          key = 'Host'\n          break\n        case 'content-length':\n          key = 'Content-Length'\n          break\n        case 'content-type':\n          key = 'Content-Type'\n          break\n        case 'content-md5':\n          key = 'Content-Md5'\n          break\n      }\n      if (value) {\n        headersTemp[key] = value\n      }\n    }\n    // 把处理后的赋值回给\n    o.headers = headersTemp\n    // 释放内存\n    headersTemp = headersOld = key = value = void 0\n    // 强制有host头\n    o.headers.Host = o.headers.Host ? o.headers.Host : o.host\n\n    if (o.body && o.body.length > 0) {\n      o.headers['Content-Length'] = o.headers['Content-Length'] ? o.headers['Content-Length'] : o.body.length\n      o.headers['Content-Type'] = o.headers['Content-Type'] ? o.headers['Content-Type'] : 'application/x-www-form-urlencoded; charset=UTF-8'\n      o.headers['Content-Md5'] = sign.md5Base64(o.body)\n    }\n  },\n  // 初始化GET参数\n  _signRunQueryInit: function (o) {\n    // 签名数组\n    var queryArray = []\n    if (o.query && o.query.length > 0) {\n      o.query.split('&').forEach(function (t) {\n        if (!t) {\n          return\n        }\n        var key, value, i\n          // 找到第一个等号的首次出现位置\n        i = t.indexOf('=')\n          // 取得key\n        key = t.substr(0, i)\n          // 取得value\n        value = t.substr(i + 1)\n          // 先去左右空格再编码\n        key = sign._trim(key)\n        value = sign._trim(value)\n          // 插入新数组\n        queryArray.push(key + '=' + value)\n      })\n    }\n    // 排序\n    queryArray.sort()\n    // 用&拼接\n    o.query = queryArray.join('&')\n    // 回收内存\n    queryArray = void 0\n  },\n  // base初始化\n  _signRunBaseInit: function (o) {\n    // 默认换行\n    o.n = o.n || '\\n'\n    // 请求id\n    o.request_id = o.request_id || util.createRequestId()\n    // 请求方式\n    o.method = (o.method || 'GET').toString().toUpperCase()\n    // 强制是字符串\n    o.query = o.query || ''\n    // get请求\n    if (o.method.toLowerCase() === 'GET') {\n      // 如果有请求体\n      if (o.body) {\n        // 拼接到query中\n        o.query += o.query ? '&' : ''\n        // 清空请求体\n        o.body = ''\n      }\n    } else {\n      o.body = o.body || ''\n    }\n  },\n  getUTCServerTime: function (differenceTime) {\n    var d\n    d = new Date()\n    d = new Date(parseInt(d.getTime() + ((parseInt(differenceTime) || 0) * 1000)) + (60 * d.getTimezoneOffset()))\n    return d.getUTCFullYear() + '-' + sign._replenish((d.getUTCMonth() + 1), 2) + '-' + sign._replenish((d.getUTCDate()), 2) + 'T' + sign._replenish((d.getUTCHours()), 2) + ':' + sign._replenish((d.getUTCMinutes()), 2) + ':' + sign._replenish((d.getUTCSeconds()), 2) + 'Z'\n  },\n  _replenish: function (text, total, rstr) {\n    text = text.toString()\n    var rstrlen = (total - text.length) || 0\n    var rstri = 0\n    var r = text\n    switch (arguments.length) {\n      case 3:\n        break\n      case 2:\n        rstr = '0'\n        break\n      default:\n        return r\n    }\n    for (rstri = 0; rstri < rstrlen; rstri++) {\n      r = rstr.toString() + r.toString()\n    }\n    return r\n  },\n  _trim: function (str) {\n    return str.toString().trim()\n  },\n  md5Hex: function (str, isToString) {\n    str = str || ''\n    if (isToString !== false) {\n      str = str.toString()\n    }\n    return cryptoJsCore.MD5(str).toString(cryptoJsHex)\n  },\n  md5Base64: function (str, isToString) {\n    str = str || ''\n    if (isToString !== false) {\n      str = str.toString()\n    }\n    return cryptoJsCore.MD5(str).toString(cryptoJsBase64)\n  },\n  HmacSHA256: function (str, key, isToString) {\n    str = str || ''\n    if (isToString !== false) {\n      str = str.toString()\n    }\n    return cryptoJsCore.HmacSHA256(str, key).toString(cryptoJsHex)\n  }\n})\n// 引入签名会话模块\n// 引入请求模块\nvar session = require('./session.js')\nvar cryptoJsCore = require('crypto-js/core')\n// var cryptoJsMd5 =\nrequire('crypto-js/md5')\n// var cryptoJsHmacSha256 =\nrequire('crypto-js/hmac-sha256')\nvar cryptoJsBase64 = require('crypto-js/enc-base64')\nvar cryptoJsHex = require('crypto-js/enc-hex')\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/sign.js","module.exports = (function () {\n  function _t () {\n    return new RegExp(/(.*?)\\.?([^.]*?)\\.?(com|net|org|biz|ws|in|me|co\\.uk|co|org\\.uk|ltd\\.uk|plc\\.uk|me\\.uk|edu|mil|br\\.com|cn\\.com|eu\\.com|hu\\.com|no\\.com|qc\\.com|sa\\.com|se\\.com|se\\.net|us\\.com|uy\\.com|ac|co\\.ac|gv\\.ac|or\\.ac|ac\\.ac|af|am|as|at|ac\\.at|co\\.at|gv\\.at|or\\.at|asn\\.au|com\\.au|edu\\.au|org\\.au|net\\.au|id\\.au|be|ac\\.be|adm\\.br|adv\\.br|am\\.br|arq\\.br|art\\.br|bio\\.br|cng\\.br|cnt\\.br|com\\.br|ecn\\.br|eng\\.br|esp\\.br|etc\\.br|eti\\.br|fm\\.br|fot\\.br|fst\\.br|g12\\.br|gov\\.br|ind\\.br|inf\\.br|jor\\.br|lel\\.br|med\\.br|mil\\.br|net\\.br|nom\\.br|ntr\\.br|odo\\.br|org\\.br|ppg\\.br|pro\\.br|psc\\.br|psi\\.br|rec\\.br|slg\\.br|tmp\\.br|tur\\.br|tv\\.br|vet\\.br|zlg\\.br|br|ab\\.ca|bc\\.ca|mb\\.ca|nb\\.ca|nf\\.ca|ns\\.ca|nt\\.ca|on\\.ca|pe\\.ca|qc\\.ca|sk\\.ca|yk\\.ca|ca|cc|ac\\.cn|com\\.cn|edu\\.cn|gov\\.cn|org\\.cn|bj\\.cn|sh\\.cn|tj\\.cn|cq\\.cn|he\\.cn|nm\\.cn|ln\\.cn|jl\\.cn|hl\\.cn|js\\.cn|zj\\.cn|ah\\.cn|gd\\.cn|gx\\.cn|hi\\.cn|sc\\.cn|gz\\.cn|yn\\.cn|xz\\.cn|sn\\.cn|gs\\.cn|qh\\.cn|nx\\.cn|xj\\.cn|tw\\.cn|hk\\.cn|mo\\.cn|cn|cx|cz|de|dk|fo|com\\.ec|tm\\.fr|com\\.fr|asso\\.fr|presse\\.fr|fr|gf|gs|co\\.il|net\\.il|ac\\.il|k12\\.il|gov\\.il|muni\\.il|ac\\.in|co\\.in|org\\.in|ernet\\.in|gov\\.in|net\\.in|res\\.in|is|it|ac\\.jp|co\\.jp|go\\.jp|or\\.jp|ne\\.jp|ac\\.kr|co\\.kr|go\\.kr|ne\\.kr|nm\\.kr|or\\.kr|li|lt|lu|asso\\.mc|tm\\.mc|com\\.mm|org\\.mm|net\\.mm|edu\\.mm|gov\\.mm|ms|nl|no|nu|pl|ro|org\\.ro|store\\.ro|tm\\.ro|firm\\.ro|www\\.ro|arts\\.ro|rec\\.ro|info\\.ro|nom\\.ro|nt\\.ro|se|si|com\\.sg|org\\.sg|net\\.sg|gov\\.sg|sk|st|tf|ac\\.th|co\\.th|go\\.th|mi\\.th|net\\.th|or\\.th|tm|to|com\\.tr|edu\\.tr|gov\\.tr|k12\\.tr|net\\.tr|org\\.tr|com\\.tw|org\\.tw|net\\.tw|ac\\.uk|uk\\.com|uk\\.net|gb\\.com|gb\\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\\.hk|org\\.hk|net\\.hk|edu\\.hk|us|tk|cd|by|ad|lv|eu\\.lv|bz|es|jp|cl|ag|mobi|eu|co\\.nz|org\\.nz|net\\.nz|maori\\.nz|iwi\\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\\.pt|edu\\.pt|asia|fi|com\\.ve|net\\.ve|fi|org\\.ve|web\\.ve|info\\.ve|co\\.ve|tel|im|gr|ru|net\\.ru|org\\.ru|hr|com\\.hr|ly|xyz|so)$/)\n  }\n\n  function _d (s) {\n    return decodeURIComponent(s.replace(/\\+/g, ' '))\n  }\n\n  function _i (arg, str) {\n    var sptr = arg.charAt(0)\n    var split = str.split(sptr)\n\n    if (sptr === arg) { return split }\n\n    arg = parseInt(arg.substring(1), 10)\n\n    return split[arg < 0 ? split.length + arg : arg - 1]\n  }\n\n  function _f (arg, str) {\n    var sptr = arg.charAt(0)\n    var split = str.split('&')\n    var field = []\n    var params = {}\n    var tmp = []\n    var arg2 = arg.substring(1)\n\n    for (var i = 0, ii = split.length; i < ii; i++) {\n      field = split[i].match(/(.*?)=(.*)/)\n\n      // TODO: regex should be able to handle this.\n      if (!field) {\n        field = [split[i], split[i], '']\n      }\n\n      if (field[1].replace(/\\s/g, '') !== '') {\n        field[2] = _d(field[2] || '')\n\n        // If we have a match just return it right away.\n        if (arg2 === field[1]) { return field[2] }\n\n        // Check for array pattern.\n        tmp = field[1].match(/(.*)\\[([0-9]+)]/)\n\n        if (tmp) {\n          params[tmp[1]] = params[tmp[1]] || []\n\n          params[tmp[1]][tmp[2]] = field[2]\n        } else {\n          params[field[1]] = field[2]\n        }\n      }\n    }\n\n    if (sptr === arg) { return params }\n\n    return params[arg2]\n  }\n\n  return function (arg, url) {\n    var _l = {}\n    var tmp\n\n    if (arg === 'tld?') { return _t() }\n\n    url = url || ((typeof window !== 'undefined' && window.location) || '').toString()\n\n    if (!arg) { return url }\n\n    arg = arg.toString()\n\n    if ((tmp = url.match(/^mailto:([^/].+)/))) {\n      _l.protocol = 'mailto'\n      _l.email = tmp[1]\n    } else {\n      // Ignore Hashbangs.\n      if ((tmp = url.match(/(.*?)\\/#!(.*)/))) {\n        url = tmp[1] + tmp[2]\n      }\n\n      // Hash.\n      if ((tmp = url.match(/(.*?)#(.*)/))) {\n        _l.hash = tmp[2]\n        url = tmp[1]\n      }\n\n      // Return hash parts.\n      if (_l.hash && arg.match(/^#/)) { return _f(arg, _l.hash) }\n\n      // Query\n      if ((tmp = url.match(/(.*?)\\?(.*)/))) {\n        _l.query = tmp[2]\n        url = tmp[1]\n      }\n\n      // Return query parts.\n      if (_l.query && arg.match(/^\\?/)) { return _f(arg, _l.query) }\n\n      // Protocol.\n      if ((tmp = url.match(/(.*?):?\\/\\/(.*)/))) {\n        _l.protocol = tmp[1].toLowerCase()\n        url = tmp[2]\n      }\n\n      // Path.\n      if ((tmp = url.match(/(.*?)(\\/.*)/))) {\n        _l.path = tmp[2]\n        url = tmp[1]\n      }\n\n      // Clean up path.\n      _l.path = (_l.path || '').replace(/^([^/])/, '/$1').replace(/\\/$/, '')\n\n      // Return path parts.\n      if (arg.match(/^[-0-9]+$/)) { arg = arg.replace(/^([^/])/, '/$1') }\n      if (arg.match(/^\\//)) { return _i(arg, _l.path.substring(1)) }\n\n      // File.\n      tmp = _i('/-1', _l.path.substring(1))\n\n      if (tmp && (tmp = tmp.match(/(.*?)\\.(.*)/))) {\n        _l.file = tmp[0]\n        _l.filename = tmp[1]\n        _l.fileext = tmp[2]\n      }\n\n      // Port.\n      if ((tmp = url.match(/(.*):([0-9]+)$/))) {\n        _l.port = tmp[2]\n        url = tmp[1]\n      }\n\n      // Auth.\n      if ((tmp = url.match(/(.*?)@(.*)/))) {\n        _l.auth = tmp[1]\n        url = tmp[2]\n      }\n\n      // User and pass.\n      if (_l.auth) {\n        tmp = _l.auth.match(/(.*):(.*)/)\n\n        _l.user = tmp ? tmp[1] : _l.auth\n        _l.pass = tmp ? tmp[2] : undefined\n      }\n\n      // Hostname.\n      _l.hostname = url.toLowerCase()\n\n      // Return hostname parts.\n      if (arg.charAt(0) === '.') { return _i(arg, _l.hostname) }\n\n      // Domain, tld and sub domain.\n      if (_t()) {\n        tmp = _l.hostname.match(_t())\n\n        if (tmp) {\n          _l.tld = tmp[3]\n          _l.domain = tmp[2] ? tmp[2] + '.' + tmp[3] : undefined\n          _l.sub = tmp[1] || undefined\n        }\n      }\n\n      // Set port and protocol defaults if not set.\n      _l.port = _l.port || (_l.protocol === 'https' ? '443' : '80')\n      _l.protocol = _l.protocol || (_l.port === '443' ? 'https' : 'http')\n      _l.protocol = _l.protocol + ':'\n    }\n\n    // Return arg.\n    if (arg in _l) { return _l[arg] }\n\n    // Return everything.\n    if (arg === '{}') { return _l }\n\n    // Default to undefined for no match.\n    return undefined\n  }\n})()\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/url.js","'use strict'\nmodule.exports = require('ddv-restful-api')\nrequire('./pushApi.js')\n\n\n\n// WEBPACK FOOTER //\n// ./lib/api.js","'use strict'\nmodule.exports = function runRequest (o) {\n  return ajax(o).then(function (serverRes) {\n    Object.assign(o.serverRes, serverRes)\n    var e\n    if (o.serverRes.statusCode >= '200' && o.serverRes.statusCode < '300') {\n      return o\n    } else {\n      o.serverRes.message = o.serverRes.message || o.serverRes.msg || o.serverRes.status || 'Unknow Error'\n      e = new Error(o.serverRes.message)\n      e.statusCode = o.serverRes.statusCode\n      e.error_id = e.error_id || o.serverRes.error_id || o.serverRes.status\n      e.message = o.serverRes.message || o.serverRes.status || 'Unknow Error'\n      throw e\n    }\n  }).catch(function (e) {\n    Object.assign(o.serverRes, e)\n    return Promise.reject(e)\n  })\n}\nvar ajax = require('./ajax.js')\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/request.js","/* global localStorage sessionStorage VS_COOKIEDM */\n// 导出 session 模块\nmodule.exports = session\n// 工具\nvar util = require('../util')\n// api模块\nvar api = require('./api.js')\n// url模块\nvar url = require('./url.js')\n// 签名模块\nvar sign = require('./sign.js')\n// 请求模块\nvar request = require('./request.js')\n// 编码加密模块\nvar cryptoJsCore = require('crypto-js/core')\n// 编码base64模块\nvar cryptoJsBase64 = require('crypto-js/enc-base64')\n// var cryptoJsUtf8 =\nrequire('crypto-js/enc-utf8')\nvar getSessionTrueCbs = []\nvar getSessionInitCbs = []\nvar _getSessionTrueDataCbsIng = false\nvar _getSessionInitCbsIng = false\n// 对外api接口模块\nObject.assign(session, {\n  // 设置是否使用长存储\n  setLongStorage: function setLongStorage (isUseLong) {\n    session.isLongStorage = Boolean(isUseLong)\n  },\n  // 设置是否使用长存储\n  setSessionInitTrySum: function setSessionInitTrySum (sum) {\n    session.initTrySum = sum || session.initTrySum\n  },\n  // 设置初始化session的path\n  setSessionInitPath: function setSessionInitPath (path) {\n    session.sessionInitPath = path || session.sessionInitPath\n  }\n})\n// 对外 cookie 编码 接口模块\nObject.assign(session, {\n  // 解码\n  unescape: function (str) {\n    return unescape(str || '')\n  },\n  // 编码\n  escape: function (str) {\n    return escape(str || '')\n  }\n})\nObject.assign(session, {\n  // 会话初始化\n  init: function (o) {\n    o = o || Object.create(null)\n    return new Promise(function (resolve, reject) {\n      var isRun = false\n      // 处理回调\n      if (o.isServerNode) {\n        o.req._getSessionInitCbs = o.req._getSessionInitCbs || []\n        // 服务端-处理同一请求多次初始化会话的问题，同一回调\n        o.req._getSessionInitCbs.push([resolve, reject, o])\n        o.req._getSessionInitCbs.push([function () {\n          if (this && this.req) {\n            this.req._getSessionInitCbsIng = false\n          }\n        }.bind(o), function () {\n          if (this && this.req) {\n            this.req._getSessionInitCbsIng = false\n          }\n        }.bind(o), o])\n        if (o.req._getSessionInitCbsIng !== true) {\n          isRun = true\n          o.req._getSessionInitCbsIng = true\n        }\n      } else if (session.isClientWindow) {\n        // 浏览器-处理同一请求多次初始化会话的问题，同一回调\n        getSessionInitCbs.push([resolve, reject, o])\n        getSessionInitCbs.push([function () {\n          _getSessionInitCbsIng = false\n        }, function () {\n          _getSessionInitCbsIng = false\n        }, o])\n        if (_getSessionInitCbsIng !== true) {\n          isRun = true\n          _getSessionInitCbsIng = true\n        }\n      } else {\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      if (isRun) {\n        session._initRun(o).then(function () {\n          // 批量回调成功\n          var cbt\n          if (o && o.req && o.req._getSessionInitCbs) {\n            while ((cbt = o.req._getSessionInitCbs.shift())) {\n              if (cbt && cbt[0] && cbt[2] && util.isFunction(cbt[0])) {\n                cbt[0](cbt[2])\n              }\n              cbt = void 0\n            }\n          } else if (session.isClientWindow && getSessionInitCbs) {\n            while ((cbt = getSessionInitCbs.shift())) {\n              if (cbt && cbt[0] && cbt[2] && util.isFunction(cbt[0])) {\n                cbt[0](cbt[2])\n              }\n              cbt = void 0\n            }\n          }\n          o = void 0\n        }).catch(function (e) {\n          // 批量回调异常\n          var cbt\n          if (o && o.req && o.req._getSessionInitCbs) {\n            while ((cbt = o.req._getSessionInitCbs.shift())) {\n              if (cbt && cbt[1] && util.isFunction(cbt[1])) {\n                cbt[1](e)\n              }\n              cbt = void 0\n            }\n          } else if (session.isClientWindow && getSessionInitCbs) {\n            while ((cbt = getSessionInitCbs.shift())) {\n              if (cbt && cbt[1] && util.isFunction(cbt[1])) {\n                cbt[1](e)\n              }\n              cbt = void 0\n            }\n          }\n          e = o = void 0\n        })\n      }\n      resolve = reject = isRun = void 0\n    })\n  },\n  _initRun: function (o) {\n    // 初始化基本参数\n    session._initRunBaseInit(o)\n    //\n    return new Promise(function (resolve, reject) {\n      var initTrySum = session.initTrySum || o.initTrySum\n      if (o.initTryNum >= initTrySum) {\n        reject(new Error('Session initialization failed, exceeding maximum attempted test'))\n        return\n      } else if (o.initTryNum >= 2) {\n        console.log('清理尝试')\n      } else {\n        resolve(o)\n      }\n      o = void 0\n    }).then(function (o) {\n      return session.getData(o)\n    }).then(function (o) {\n      // 检测设备唯一识别号\n      if (o.sessionData && o.sessionData.session_card) {\n        return o\n      } else {\n        return session.createCard(o)\n      }\n    }).then(function (o) {\n      o.request_id = o.request_id || util.createRequestId()\n\n      // 授权字符串\n      var authorization = 'session-init-v1'\n      authorization += '/' + o.request_id\n      authorization += '/' + (o.sessionData.session_id || '0')\n      authorization += '/' + o.sessionData.session_card\n      authorization += '/' + sign.getUTCServerTime(o.sessionData.difference_time || 0) + '/' + '1800'\n      var signingKey = sign.HmacSHA256(authorization, (o.sessionData.session_key || 'session_key'))\n      // 生成加密key\n      authorization += '/' + util.createGuid()\n      authorization += '/' + sign.HmacSHA256(authorization, signingKey)\n\n      o.headers = o.headers || Object.create(null)\n      o.headers.Authorization = authorization\n\n      signingKey = authorization = void 0\n      return o\n    }).then(function (o) {\n      // 请求方式\n      o.method = o.method || 'GET'\n      o.path = o.path || session.sessionInitPath || '/session/init'\n      o.serverRes = Object.create(null)\n      o.serverRes.statusCode = 0\n      o.serverRes.status = 'UNKNOW_ERROR'\n      o.serverRes.body = ''\n      // 返回一个请求\n      return request(o)\n    }).then(function (o) {\n      return new Promise(function (resolve, reject) {\n        var r = null\n        var e = null\n        var res = o.serverRes\n        try {\n          r = JSON.parse(res.body)\n        } catch (e1) {\n          e = e1\n        }\n        if (e) {\n          e.statusCode = res.statusCode\n          e.error_id = res.status\n          e.message = res.status || 'Unknow Error'\n          reject(e)\n        } else if (r) {\n          if (r.state) {\n            r.statusCode = r.statusCode || r.code || res.statusCode\n            r.error_id = r.error_id || res.status\n            r.message = r.message || r.msg || res.status || 'Unknow Error'\n            o._serverResObj = r\n            resolve(o)\n          } else {\n            e = new Error(r.message || r.msg || res.status || 'Unknow Error')\n            e.statusCode = r.statusCode || r.code || res.statusCode\n            e.error_id = r.error_id || res.status\n            e.message = r.message || r.msg || res.status || 'Unknow Error'\n            reject(e)\n          }\n        }\n        o.destroy()\n        o = resolve = reject = r = e = res = void 0\n      })\n    }).then(function (o) {\n      return new Promise(function (resolve, reject) {\n        var res = o._serverResObj\n\n        if (res.type !== 'update') {\n          // 如果不需要更新就跳过\n          resolve(o)\n          return\n        }\n        var sessionData = res.session_data\n        // 服务器时间\n        sessionData.server_time = sessionData.server_time || util.time()\n        // 本地时间\n        sessionData.local_time = util.time()\n        // 服务器时间减去本地时间\n        sessionData.difference_time = sessionData.server_time - sessionData.local_time\n        // 到期时间\n\n        if (sessionData.expires_time !== undefined && sessionData.expires_time !== null) {\n          sessionData.expires_time += sessionData.difference_time\n        } else {\n          sessionData.expires_time = util.time() + (60 * 60 * 24 * 7)\n        }\n        // 获取会话数据\n        session.setData(o, JSON.stringify(sessionData)).then(resolve).catch(reject)\n      })\n    })\n  },\n  createCard: function (o) {\n    return new Promise(function (resolve, reject) {\n      o.sessionData = o.sessionData || Object.create(null)\n      o.sessionData.session_card = 'ed9a-d251b2e6-48c3-9c08-e426-ed15398ac305-73624bb2'\n      resolve(o)\n      // reject('ed9a-d251b2e6-48c3-9c08-e426-ed15398ac305-73624bb2');\n    })\n  },\n  _initRunBaseInit: function (o) {\n    // 默认0次参数\n    o.initTryNum = o.initTryNum || 0\n    // 默认0次参数\n    o.initTrySum = o.initTrySum || session.initTrySum || 3\n    // url\n    o.baseUrl = o.baseUrl || api.baseUrl || ''\n    o.req = o.req || null\n    o.res = o.res || null\n    // 是否在node服务器运行\n    o.isServerNode = (o.isServerNode !== void 0) ? o.isServerNode : Boolean(o.req && o.res)\n    // 获取基本信息\n    o.host = o.host || url('hostname', o.baseUrl)\n    o.port = o.port || url('port', o.baseUrl)\n    o.protocol = o.protocol || url('protocol', o.baseUrl)\n  },\n  // 获取正确的会话数据\n  getTrueData: function (o) {\n    return new Promise(function (resolve, reject) {\n      var isRun = false\n      // 处理回调\n      if (o.isServerNode) {\n        o.req._getSessionTrueDataCbs = o.req._getSessionTrueDataCbs || []\n        // 服务端-处理同一请求多次初始化会话的问题，同一回调\n        o.req._getSessionTrueDataCbs.push([resolve, reject, o])\n        o.req._getSessionTrueDataCbs.push([function () {\n          if (this && this.req) {\n            this.req._getSessionTrueDataCbsIng = false\n          }\n        }.bind(o), function () {\n          if (this && this.req) {\n            this.req._getSessionTrueDataCbsIng = false\n          }\n        }.bind(o), o])\n        if (o.req._getSessionTrueDataCbsIng !== true) {\n          isRun = true\n          o.req._getSessionTrueDataCbsIng = true\n        }\n      } else if (session.isClientWindow) {\n        // 浏览器-处理同一请求多次初始化会话的问题，同一回调\n        getSessionTrueCbs.push([resolve, reject, o])\n        getSessionTrueCbs.push([function () {\n          _getSessionTrueDataCbsIng = false\n        }, function () {\n          _getSessionTrueDataCbsIng = false\n        }, o])\n        if (_getSessionTrueDataCbsIng !== true) {\n          isRun = true\n          _getSessionTrueDataCbsIng = true\n        }\n      } else {\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      if (isRun) {\n        session._getTrueDataRun(o)\n      }\n      resolve = reject = o = isRun = void 0\n    })\n  },\n  // 获取正确的会话数据-开始运行\n  _getTrueDataRun: function (o) {\n    var sessionO = {\n      req: o.req || null,\n      res: o.res || null,\n      host: o.host,\n      port: o.port,\n      baseUrl: o.baseUrl,\n      protocol: o.protocol,\n      isServerNode: o.isServerNode,\n      cookieName: o.cookieName,\n      cookieNameEnCode: o.cookieNameEnCode,\n      isSessionInit: o.isSessionInit,\n      isSessionDataPass: o.isSessionDataPass,\n      sessionData: o.sessionData,\n      sessionDataStr: o.sessionDataStr,\n      sessionDataOldStr: o.sessionDataOldStr\n    }\n    var keys = Object.keys(sessionO)\n    session.getData(sessionO).then(function (o) {\n      // 检测会话是否过期\n      return new Promise(function (resolve, reject) {\n        var isSessionDataPass = true\n          // o.isSessionInit 是否强制\n        isSessionDataPass = isSessionDataPass && (!o.isSessionInit)\n          // 基本需要的数据检测\n        isSessionDataPass = isSessionDataPass && o.sessionData && o.sessionData.session_id && o.sessionData.session_key && o.sessionData.session_card\n          // 检测事件\n        isSessionDataPass = isSessionDataPass && o.sessionData.expires_time && util.time() < (o.sessionData.expires_time - 5)\n        // 为了保证没有问题，提前5秒钟过期\n        if (isSessionDataPass) {\n          // 下一步\n          resolve(o)\n          // 回收\n          resolve = reject = o = void 0\n        } else {\n          // 重新初始化\n          o.isSessionInit = undefined\n          session.init({\n            req: o.req || null,\n            res: o.res || null,\n            host: o.host,\n            port: o.port,\n            baseUrl: o.baseUrl,\n            protocol: o.protocol,\n            isServerNode: o.isServerNode\n          }).then(function () {\n            if (typeof resolve === 'function') {\n              session.getData(o).then(resolve).catch(reject)\n            }\n            resolve = reject = o = void 0\n          }).catch(function (e) {\n            if (typeof reject === 'function') {\n              reject(e)\n            }\n            resolve = reject = o = void 0\n          })\n        }\n      })\n    }).then(function () {\n      // 批量回调成功\n      var cbt\n      if (sessionO.req && sessionO.req._getSessionTrueDataCbs) {\n        while ((cbt = sessionO.req._getSessionTrueDataCbs.shift())) {\n          if (cbt && cbt[0] && cbt[2] && util.isFunction(cbt[0])) {\n            util.copyObjByKey(cbt[2], sessionO, keys)\n            cbt[0](cbt[2])\n          }\n          cbt = void 0\n        }\n      } else if (session.isClientWindow && getSessionTrueCbs) {\n        while ((cbt = getSessionTrueCbs.shift())) {\n          if (cbt && cbt[0] && cbt[2] && util.isFunction(cbt[0])) {\n            util.copyObjByKey(cbt[2], sessionO, keys)\n            cbt[0](cbt[2])\n          }\n          cbt = void 0\n        }\n      }\n      sessionO = void 0\n    }).catch(function (e) {\n      // 批量回调异常\n      var cbt\n      if (sessionO.req && sessionO.req._getSessionTrueDataCbs) {\n        while ((cbt = sessionO.req._getSessionTrueDataCbs.shift())) {\n          if (cbt && cbt[1] && util.isFunction(cbt[1])) {\n            cbt[1](e)\n          }\n          cbt = void 0\n        }\n      } else if (session.isClientWindow && getSessionTrueCbs) {\n        while ((cbt = getSessionTrueCbs.shift())) {\n          if (cbt && cbt[1] && util.isFunction(cbt[1])) {\n            cbt[1](e)\n          }\n          cbt = void 0\n        }\n      }\n      e = sessionO = void 0\n    })\n    o = void 0\n  },\n  setData: function (o, sessionData) {\n    return new Promise(function (resolve, reject) {\n      if (!o.cookieName) {\n        // 根据host和port生成cookieName\n        o.cookieName = o.host + (o.port ? (':' + o.port) : '')\n      }\n      // 编码cookieName\n      o.cookieNameEnCode = session._cookieNameEnCode(o.cookieName)\n      if (o.isServerNode) {\n        // 服务器模式\n        session._setDataNode(o, sessionData, resolve, reject)\n      } else if (session.isClientWindow) {\n        // 客户端\n        session._setDataClient(o, sessionData, resolve, reject)\n      } else {\n        // 不确定是什么浏览器\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      resolve = reject = o = void 0\n    })\n  },\n  getData: function (o) {\n    return new Promise(function (resolve, reject) {\n      if (!o.cookieName) {\n        // 根据host和port生成cookieName\n        o.cookieName = o.host + (o.port ? (':' + o.port) : '')\n      }\n      // 编码cookieName\n      o.cookieNameEnCode = session._cookieNameEnCode(o.cookieName)\n      if (o.isServerNode) {\n        // 服务器模式\n        session._getDataNode(o, resolve, reject)\n      } else if (session.isClientWindow) {\n        // 客户端\n        session._getDataClient(o, resolve, reject)\n      } else {\n        // 不确定是什么浏览器\n        reject(new Error('Neither a browser nor req and res'))\n      }\n      resolve = reject = o = void 0\n    }).then(function (o) {\n      // 反序列化会话数据\n      return new Promise(function (resolve, reject) {\n        if (o.sessionDataStr && typeof o.sessionDataStr === 'string') {\n          try {\n            o.sessionData = JSON.parse(o.sessionDataStr)\n          } catch (e) {\n            o.sessionData = o.sessionData || Object.create(null)\n          }\n        } else {\n          o.sessionData = o.sessionData || Object.create(null)\n        }\n        // 清理\n        delete o.sessionDataStr\n        // 序列化用于后期比对\n        o.sessionDataOldStr = session.arrayToStr(o.sessionData)\n        // 回调下一步\n        resolve(o)\n      })\n    })\n  },\n  // node服务端获取\n  _getDataNode: function (o, resolve, reject) {\n    var cookiename\n    try {\n      cookiename = o.cookieNameEnCode\n      o.sessionDataStr = (o.res && o.res.cookieDdvRestfulApiStr) || session._getCookiesServer(cookiename, o.req) || o.sessionDataStr\n      // 本地存储模块\n      if (util.isFunction(resolve)) {\n        resolve(o)\n      }\n    } catch (e) {\n      if (util.isFunction(reject)) {\n        reject(e)\n      }\n    }\n    resolve = reject = o = void 0\n  },\n  // 客户端获取\n  _setDataNode: function (o, data, resolve, reject) {\n    if (!(o && o.res)) {\n      reject(new Error('Your browser does not support cookies and localStorage'))\n      return\n    }\n    if (!o.cookieNameEnCode) {\n      reject(new Error('Deceased cookie surname'))\n      return\n    }\n    var cookiename = o.cookieNameEnCode\n    o.res.cookieDdvRestfulApiStr = data\n    try {\n      // 本地存储模块\n      if (session.isLongStorage) {\n        session._setCookiesServer(o.req, o.res, cookiename, data)\n      } else {\n        session._setCookiesServer(o.req, o.res, cookiename, data, session.getExpiresDate('365', '12', '60'))\n      }\n\n      if (util.isFunction(resolve)) {\n        resolve(o)\n      }\n    } catch (e) {\n      if (util.isFunction(reject)) {\n        reject(e)\n      }\n    }\n    resolve = reject = data = o = void 0\n  },\n  // 设置cookies\n  _getCookiesServer: function (key, req) {\n    if (req) {\n      return (req.cookies && req.cookies[key]) || session._getCookiesByStr(key, (req.headers && req.headers.cookie || '')) || ''\n    } else {\n      return ''\n    }\n  },\n  // 设置cookies\n  _setCookiesServer: function (req, res, key, value, expires, path, domain, isSecure) {\n    var t\n    if (!res) {\n      return\n    }\n    if (util.isFunction(res.cookie)) {\n      t = { domain: domain || '', path: path || '/', secure: Boolean(isSecure) }\n      if (t.domain) {\n        delete t.domain\n      }\n      if (t.secure) {\n        delete t.secure\n      }\n      if (expires) {\n        t.expires = new Date(expires)\n      }\n      res.cookie(key, value, t)\n    } else {\n      t = ''\n      t += (key.toString().trim() + '=')\n      t += session.escape(value)\n      t += expires ? '; expires=' + expires : ''\n      t += (typeof path === 'string' && path !== '') ? ('; path=' + path) : '; path=/'\n      t += (typeof domain === 'string' && domain !== '') ? '; domain=' + domain : ''\n      t += isSecure ? '; secure' : ''\n      if (req.headers && req.headers.cookie) {\n        req.headers.cookie = t\n      }\n      // 强制一个数组\n      res.cookiesSetArray = res.cookiesSetArray || []\n      // 加入输出数组\n      res.cookiesSetArray.push(t)\n      // 设置输出头\n      res.setHeader('Set-Cookie', res.cookiesSetArray)\n    }\n    t = void 0\n  },\n  // 客户端获取\n  _getDataClient: function (o, resolve, reject) {\n    var cookiename, data\n    if (!(session.isLocalCookie || session.isLocalStorage || session.isSessionStorage)) {\n      reject(new Error('Your browser does not support cookies and localStorage'))\n      return\n    }\n    try {\n      cookiename = o.cookieNameEnCode\n      data = session._getCookiesClient(cookiename) || null\n      // 本地存储模块\n      if (!data) {\n        try {\n          if (session.isLongStorage) {\n            // 长期存储模式\n            data = localStorage.getItem(cookiename) || null\n            session._setCookiesClient(cookiename, data)\n          } else {\n            // 会话形式\n            data = sessionStorage.getItem(cookiename) || null\n            session._setCookiesClient(cookiename, data, session.getExpiresDate('365', '12', '60'))\n          }\n        } catch (e) {\n          data = null\n        }\n      }\n      o.sessionDataStr = data || o.sessionDataStr\n      if (typeof resolve === 'function') {\n        resolve(o)\n      }\n    } catch (e) {\n      if (typeof reject === 'function') {\n        reject(e)\n      }\n    }\n    resolve = reject = data = o = void 0\n  },\n  // 客户端获取\n  _setDataClient: function (o, data, resolve, reject) {\n    var cookiename\n    if (!(session.isLocalCookie || session.isLocalStorage || session.isSessionStorage)) {\n      reject(new Error('Your browser does not support cookies and localStorage'))\n      return\n    }\n    try {\n      cookiename = o.cookieNameEnCode\n      // 本地存储模块\n      if (session.isLongStorage) {\n        // 长期存储模式\n        if (session.isLocalStorage) {\n          localStorage.setItem(cookiename, data)\n        }\n        session._setCookiesClient(cookiename, data)\n      } else {\n        // 会话形式\n        if (session.isSessionStorage) {\n          sessionStorage.setItem(cookiename, data)\n        }\n        session._setCookiesClient(cookiename, data, session.getExpiresDate('365', '12', '60'))\n      }\n\n      if (util.isFunction(resolve)) {\n        resolve(o)\n      }\n    } catch (e) {\n      if (util.isFunction(reject)) {\n        reject(e)\n      }\n    }\n    resolve = reject = data = o = void 0\n  },\n  // 客户端读取\n  _getCookiesClient: function (key) {\n    if (session.isLocalCookie) {\n      return session._getCookiesByStr(key, document.cookie)\n    } else {\n      return ''\n    }\n  },\n  // 客户端存储\n  _setCookiesClient: function (key, value, expires, path, domain, isSecure) {\n    var t\n    key = (key || '').toString().trim()\n    try {\n      if (VS_COOKIEDM !== undefined && VS_COOKIEDM !== null && !domain) {\n        domain = VS_COOKIEDM\n      }\n    } catch (e) {}\n    t = ''\n    t += (key.toString().trim() + '=')\n    t += session.escape(value)\n    t += expires ? '; expires=' + expires : ''\n    t += (typeof path === 'string' && path !== '') ? ('; path=' + path) : '; path=/'\n    t += (typeof domain === 'string' && domain !== '') ? '; domain=' + domain : ''\n    t += isSecure ? '; secure' : ''\n    document.cookie = t\n    t = void 0\n  },\n  _cookieNameEnCode: function (name) {\n    name = cryptoJsCore.enc.Utf8.parse((name || 'sid').toString() || '').toString(cryptoJsBase64)\n    name = name.replace(/_/g, '____').replace(/\\+/g, '___').replace(/\\//g, '__').replace(/=/g, '_')\n    return name\n  },\n  // 数组序列化\n  _getCookiesByStr: function (key, str) {\n    var value = '';\n    ((str || '').split(';') || []).forEach(function (t, i) {\n      var a = (t || '').split('=') || []\n      if ((a[0] || '').toString().trim() === key) {\n        value = session.unescape((a[1] || '').toString().trim())\n      }\n      a = t = i = void 0\n    })\n    return value\n  },\n  // 数组序列化\n  arrayToStr: function (obj) {\n    var a = []\n    var name\n    for (name in obj) {\n      if (!Object.hasOwnProperty.call(obj, name)) {\n        continue\n      }\n      a.push(name + '=' + obj[name])\n    }\n    name = void 0\n    a.sort()\n    obj = void 0\n    a = a.join(';')\n    return a\n  },\n  // 获取GMT格式的过期时间\n  getExpiresDate: function (days, hours, minutes, seconds) {\n    var ExpiresDate = new Date()\n    if (util.isNumber(days) && util.isNumber(hours) && util.isNumber(minutes)) {\n      ExpiresDate.setDate(ExpiresDate.getDate() + parseInt(days))\n      ExpiresDate.setHours(ExpiresDate.getHours() + parseInt(hours))\n      ExpiresDate.setMinutes(ExpiresDate.getMinutes() + parseInt(minutes))\n      if (util.isNumber(seconds)) {\n        ExpiresDate.setSeconds(ExpiresDate.getSeconds() + parseInt(seconds))\n      }\n    }\n    return ExpiresDate.toGMTString()\n  }\n})\n\n// 局部变量-是否为客户端窗口\nsession.isClientWindow = typeof window !== 'undefined' && window.window === window && typeof window.document !== 'undefined'\n// 局部变量-本地cookie是否为客户端窗口支持\nsession.isLocalCookie = false\n// 局部变量-本地存储是否为客户端窗口支持\nsession.isLocalStorage = false\n// 局部变量-本地会话存储是否为客户端窗口支持\nsession.isSessionStorage = false\nsession.isLongStorage = false\nsession.sessionInitPath = '/session/init'\nif (session.isClientWindow) {\n  try {\n    session.isLocalCookie = 'cookie' in window.document\n  } catch (e) {}\n  try {\n    session.isLocalStorage = 'localStorage' in window\n  } catch (e) {}\n  try {\n    session.isSessionStorage = 'sessionStorage' in window\n  } catch (e) {}\n}\n\nfunction session () {\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/session.js","'use strict'\nmodule.exports = require('events')\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/events/index.js","'use strict'\nvar http = require('http')\nvar https = require('https')\nvar session = require('./session.js')\nvar isWindow = typeof window !== 'undefined' && window.window === window\n// 发送请求\nmodule.exports = function ajax (o) {\n  return isWindow ? ajaxbyWindow(o) : ajaxbyNode(o)\n}\nfunction ajaxbyWindow (o) {\n  return new Promise(function (resolve, reject) {\n    var url = parseUrl({\n      protocol: (o.protocol || 'http:'),\n      host: o.host,\n      port: (o.port || '80'),\n      path: (o.path || '/'),\n      query: (o.query || '')\n    })\n    var xhr\n\n    // 创建 - 非IE6 - 第一步\n    if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n      xhr = new window.XMLHttpRequest()\n    } else {\n      // IE6及其以下版本浏览器\n      xhr = new window.ActiveXObject('Microsoft.XMLHTTP')\n    }\n\n    // 接收 - 第三步\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        var status = xhr.status\n        var statusText = xhr.statusText\n        if (status >= 200 && status < 300) {\n          var serverRes = {}\n          serverRes.headers = {}\n          serverRes.rawHeaders = []\n          serverRes.body = xhr.response\n          serverRes.statusCode = xhr.status\n          serverRes.statusMessage = xhr.statusText\n          serverRes.status = xhr.statusText\n\n          var headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n          headers.forEach(function (header) {\n            var matches = header.match(/^([^:]+):\\s*(.*)/)\n            if (matches) {\n              var key = matches[1].toLowerCase()\n              if (key === 'set-cookie') {\n                if (serverRes.headers[key] === undefined) {\n                  serverRes.headers[key] = []\n                }\n                serverRes.headers[key].push(matches[2])\n              } else if (serverRes.headers[key] !== undefined) {\n                serverRes.headers[key] += ', ' + matches[2]\n              } else {\n                serverRes.headers[key] = matches[2]\n              }\n              serverRes.rawHeaders.push(matches[1], matches[2])\n            }\n          })\n          resolve(serverRes)\n        } else {\n          var e = new Error(statusText)\n          e.statusCode = xhr.status\n          e.statusMessage = xhr.statusText\n          e.status = xhr.statusText\n          reject(e)\n        }\n      }\n    }\n    // 连接 和 发送 - 第二步\n    xhr.open((o.method || 'GET').toUpperCase(), url, true)\n    // 设置表单提交时的内容类型\n    var key, value, headers\n    headers = o.headers\n    for (key in headers) {\n      if (key.toLowerCase() === 'host' || key.toLowerCase() === 'content-length') {\n        continue\n      }\n      value = headers[key]\n      if (Array.isArray(value)) {\n        value.forEach(function (vt) {\n          xhr.setRequestHeader(key, vt)\n        })\n      } else {\n        xhr.setRequestHeader(key, headers[key])\n      }\n      value = Array.isArray(value) ? value.join(' ') : value\n    }\n    xhr.send(o.body || null)\n  })\n}\nfunction ajaxbyNode (o) {\n  return new Promise(function (resolve, reject) {\n    var opt, req\n    if (!(o.isServerNode || session.isClientWindow)) {\n      // 不是浏览器和node服务器\n      reject(new Error('Neither a browser nor req and res'))\n      return\n    }\n    opt = {\n      method: (o.method || 'GET'),\n      protocol: (o.protocol || 'http:'),\n      host: o.host,\n      port: (o.port || '80'),\n      path: (o.path || '/'),\n      headers: o.headers\n    }\n    if (o.query) {\n      opt.path += '?' + o.query\n    }\n    // 发送请求\n    req = (opt.protocol === 'http:' ? http : https).request(opt, function (response) {\n      var serverRes = {}\n      serverRes.body = ''\n      response.on('data', function (data) {\n        serverRes.body += data\n      }).on('end', function () {\n        serverRes.statusCode = response.statusCode || 200\n        serverRes.status = response.statusMessage.toString() || 'UNKNOW_ERROR'\n        serverRes.rawHeaders = response.rawHeaders || []\n        serverRes.headers = response.headers || Object.create(null)\n        resolve(serverRes)\n      })\n    })\n    if (o.body) {\n      req.write(o.body)\n    }\n    req.on('error', function (e) {\n      reject(e)\n    })\n    req.end()\n    opt = req = void 0\n  })\n}\nfunction parseUrl (obj) {\n  var r = ''\n  r += obj.protocol || 'http:'\n  r += '//' + (obj.host || '')\n  r += obj.port ? (((obj.protocol === 'http:' && obj.port === '80') || (obj.protocol === 'https:' && obj.port === '443')) ? '' : (':' + obj.port)) : ''\n  obj.pathquery = obj.pathquery || (obj.path || '/') + (obj.query ? ('?' + obj.query) : '')\n  r += obj.pathquery\n  return r\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/ajax.js",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/enc-base64.js\n// module id = 10\n// module chunks = 0","'use strict'\nvar api = require('./api.js')\napi.url = require('./url.js')\napi.ajax = require('./ajax.js')\napi.sign = require('./sign.js')\napi.session = require('./session.js')\napi.request = require('./request.js')\napi.nextTick = require('../util').nextTick\napi.Promise = Promise\n// 设置headersPrefix\napi.setHeadersPrefix = api.sign.setHeadersPrefix\n// 设置是否使用长存储\napi.setLongStorage = api.session.setLongStorage\n// 设置是否使用长存储\napi.setSessionInitTrySum = api.session.setSessionInitTrySum\n// 设置初始化session的path\napi.setSessionInitPath = api.session.setSessionInitPath\n\nif (typeof window !== 'undefined' && window.window === window) {\n  window.ddvRestFulApi = api\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/apiExternal.js","'use strict'\nvar api = require('./api.js')\nvar util = require('../util')\n\napi.data = function tryGetData (context, promiseFnRun, _dataOld) {\n  if (util.isFunction(context) || context instanceof Promise) {\n    promiseFnRun = context\n    context = void 0\n  }\n  var promiseFnReload = void 0\n  var self = this\n  var data = Object && Object.create ? Object.create(null) : {}\n  return new Promise(function tryGetDataRun (resolve, reject) {\n    var _promise\n    if (util.isFunction(promiseFnRun)) {\n      _promise = promiseFnRun.call(self, data, function (inputData) {\n        if (data && inputData && typeof inputData === 'object') {\n          Object.assign(data, inputData)\n        }\n      }, context)\n      promiseFnReload = promiseFnRun\n    } else if (promiseFnRun instanceof Promise) {\n      _promise = promiseFnRun\n    }\n    self = promiseFnRun = void 0\n    // 必须是Promise实例化的对象\n    if (_promise instanceof Promise) {\n      _promise.then(function resData (res) {\n        // 如果没有return数据就返回一个data\n        res = res === void 0 ? data : res\n        data = void 0\n        return res\n      }).catch(function (e) {\n        // 如果请求出现了异常\n        return api.dataErrorEmit({context: context, error: e}).then(function (res) {\n          if (res && res.isReload === true) {\n            if (promiseFnReload) {\n              // 重新发送整个请求\n              return api.data(context, promiseFnReload, _dataOld)\n            } else {\n              var e = new Error('Please resubmit or try again')\n              e.error_id = 'UNKNOW_ERROR'\n              throw e\n            }\n          } else if (res && res.res !== void 0) {\n            // 返回指定结果\n            return res.res\n          }\n        })\n      }).then(resolve).catch(reject)\n    } else {\n      var e = new Error('Your argument must be a Promise, or a method, and this method returns Promise after the call')\n      e.error_id = 'UNKNOW_ERROR'\n      reject(e)\n    }\n    _promise = void 0\n  })\n}\napi._onDataServerErrorFn = null\napi.onDataServerError = function onDataServerError (fn) {\n  api._onDataServerErrorFn = fn\n}\napi._onDataClientErrorFn = null\napi.onDataClientError = function onDataClientError (fn) {\n  api._onDataClientErrorFn = fn\n}\napi.dataErrorEmit = function dataErrorEmit (input) {\n  var context, error\n  context = input && input.context || context\n  error = input && input.error || error\n  var _promise = new Promise(function checkOnDataErrorArr (resolve, reject) {\n    reject(error)\n    resolve = reject = void 0\n  })\n  if (context && context.isServer) {\n  // 有上下文 并且是服务器端\n    if (util.isFunction(api._onDataServerErrorFn)) {\n      _promise = _promise.catch(function onCatch (e) {\n        e = api._onDataServerErrorFn(e, context)\n        context = void 0\n        return e\n      })\n    }\n  } else {\n  // 否则统一客户端方法处理\n    if (util.isFunction(api._onDataClientErrorFn)) {\n      _promise = _promise.catch(function onCatch (e) {\n        e = api._onDataClientErrorFn(e, context)\n        context = void 0\n        return e\n      })\n    }\n  }\n  return _promise\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/lib/apiTryData.js","'use strict'\n// 导出模块\nmodule.exports = nextTick\n// 工具\nvar util = require('./')\n// 下一进程队列\nvar nextTickQueue = []\n// 系统下一进程运行\nvar nextTickSys = (function () {\n  var fnc\n  if (typeof process !== 'undefined' && util.isFunction(process.nextTick)) {\n    fnc = process.nextTick\n  } else {\n    'r webkitR mozR msR oR'.split(' ').forEach(function (prefixes) {\n      if (util.isFunction(fnc)) {\n        return false\n      }\n      fnc = window[prefixes + 'equestAnimationFrame']\n    })\n    fnc = (fnc && fnc.bind && fnc.bind(window)) || window.setImmediate\n    if (!util.isFunction(fnc)) {\n      if (typeof window === 'undefined' || window.ActiveXObject || !window.postMessage) {\n        fnc = function (f) {\n          setTimeout(f, 0)\n        }\n      } else {\n        window.addEventListener('message', function () {\n          var i = 0\n          while (i < nextTickQueue.length) {\n            try {\n              nextTickQueue[i++]()\n            } catch (e) {\n              nextTickQueue.splice(0, i)\n              window.postMessage('nextTick!', '*')\n              throw e\n            }\n          }\n          nextTickQueue.length = 0\n        }, true)\n        fnc = function (fn) {\n          if (!nextTickQueue.length) {\n            window.postMessage('nextTick!', '*')\n          }\n          nextTickQueue.push(fn)\n        }\n      }\n    }\n  }\n  return fnc\n}())\n// 下一进程访问\nfunction nextTick (fn) {\n  var self = this\n  nextTickSys(function () {\n    if (util.isFunction(fn)) {\n      fn.call(self)\n    }\n    self = fn = void 0\n  })\n  setTimeout(function () {\n    if (util.isFunction(fn)) {\n      fn.call(self)\n    }\n    self = fn = void 0\n  }, 0)\n}\n\n\n\n// WEBPACK FOOTER //\n// ../ddv-restful-api/util/nextTick.js","'use strict'\n/* global WebSocket */\nmodule.exports = typeof WebSocket === 'undefined' ? null : WebSocket\n\n\n\n// WEBPACK FOOTER //\n// ./lib/clientWebSocket.js","'use strict'\nvar requestWs\nvar api = require('./api.js')\n// 安装模块\napi.utilInitKey.push.apply(api.utilInitKey, 'pushOpen pushClose'.split(' '))\n\nif (api.session.isClientWindow) {\n  requestWs = require('./requestWs.js')\n}\n// 对外接口\nObject.assign(api, {\n  pushOpen: function pushOpen (cb) {\n    var promise = api.pushOpenRun()\n    if (typeof cb === 'function') {\n      promise.then(function (res) {\n        cb(null, res)\n      }).catch(function (e) {\n        cb(e)\n      })\n    } else {\n      return promise\n    }\n  },\n  pushClose: function pushClose (cb) {\n    var promise = api.pushCloseRun()\n    if (typeof cb === 'function') {\n      promise.then(function (res) {\n        cb(null, res)\n      }).catch(function (e) {\n        cb(e)\n      })\n    } else {\n      return promise\n    }\n  },\n  pushOpenRun: function pushOpenRun () {\n    if (api.session.isClientWindow) {\n      var self = this\n      return requestWs({\n        headers: {\n          bodytype: 'string'\n        },\n        start: 'OPEN /v1_0/init PUSH/1.0'\n      })\n      .then(function (res) {\n        return requestWs.getSingleton()\n        .then(function (wsobj) {\n          wsobj.on('wspush', function (res) {\n            if (!self.emit(['push', (res.method || '').toLowerCase(), (res.path || '/')], res.headers, res.body, res)) {\n              if (console && console.debug) {\n                console.debug('webSocket::push\\n')\n                console.debug(res)\n              }\n            }\n          })\n          wsobj.on('wsmessage', function (res) {\n            var emitState\n            if (res.type === 'request') {\n              emitState = !wsobj.emit(['request', (res.protocol || '').toLowerCase()], res)\n            } else {\n              emitState = !wsobj.emit(['message', 'unknown error'], (res.data || res))\n            }\n            if (emitState) {\n              if (console && console.debug) {\n                console.debug('webSocket::message\\n')\n                console.debug(res)\n              }\n            }\n          })\n        })\n        .then(function () {\n          return res\n        })\n      })\n      .then(function (res) {\n        self.emit(['pushsys', 'open'], res)\n        return true\n      })\n    } else {\n      return Promise.reject(new Error('Does not support the client or browser'))\n    }\n  },\n  pushCloseRun: function pushCloseRun () {\n    if (api.session.isClientWindow) {\n      return requestWs({\n        start: 'CLOSE /v1_0/init PUSH/1.0'\n      }).then(function () {\n        return true\n      })\n    } else {\n      return Promise.reject(new Error('Does not support the client or browser'))\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pushApi.js","'use strict'\n// 导出模块\nmodule.exports = DdvRequestWs\n\nfunction DdvRequestWs (options) {\n  if (this instanceof DdvRequestWs) {\n    return this.constructor(options)\n  } else {\n    return DdvRequestWs.request.apply(this, arguments)\n  }\n}\n\n// 合并继承\nObject.assign(DdvRequestWs.prototype, require('./requestWsPrototype.js'))\n\n// 公开方法\nObject.assign(DdvRequestWs, {\n  // 请求\n  request: function request () {\n    var agrs = arguments\n    return DdvRequestWs.getSingleton().then(function (ws) {\n      return ws.request.apply(ws, agrs)\n    })\n  },\n  // 返回一个单例\n  getSingleton: function getSingleton () {\n    if (!this.singleton) {\n      this.singleton = new DdvRequestWs()\n      this.singleton.time = new Date()\n    }\n    return Promise.resolve(this.singleton)\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/requestWs.js","'use strict'\nvar EventEmitter = require('ddv-restful-api/events')\nvar prototype = module.exports = Object.create(null)\nvar api = require('./api.js')\nvar util = require('ddv-restful-api/util')\nvar url = require('ddv-restful-api/lib/url')\nvar sign = require('ddv-restful-api/lib/sign')\nvar rowraw = require('ddv-rowraw')\nvar WebSocket = require('./clientWebSocket.js')\nObject.assign(prototype, EventEmitter.prototype)\nObject.assign(prototype, {\n  constructor: function constructor (options) {\n    Object.assign(this, new EventEmitter())\n    this.status = 'starting'\n    this.connPromise = []\n    this.processWs = Object.create(null)\n    this.ws = this.ws || api.webSocketUrl || (options && options.ws) || this.ws\n    if ((!this.ws) && typeof window !== 'undefined') {\n      this.ws = window.location && window.location.protocol === 'https:' ? 'wss:' : 'ws:'\n      this.ws += '//' + window.location.host + '/v1_0/conn'\n    }\n    this.wsPushInit()\n  },\n  // 请求\n  request: function request (options) {\n    var self = this\n    options.headers = options.headers || Object.create(null)\n    options.request_id = options.headers.request_id || options.request_id || util.createRequestId()\n    options.headers.request_id = options.request_id\n    options.body = options.body || ''\n    options.start = options.start || ''\n    options.addtime = util.time()\n    return rowraw.stringifyPromise(options.headers, options.body, options.start)\n    // 编码后\n    .then(function (raw) {\n      options.raw = raw\n      raw = undefined\n    })\n    // 连接\n    .then(function () {\n      return self.conn()\n    })\n    .then(function () {\n      return new Promise(function (resolve, reject) {\n        var requestId = options.request_id\n        self.processWs[options.request_id] = [resolve, reject]\n        self.webSocket.send(options.raw, function sendCb (e) {\n          if (\n            e && self &&\n            self.processWs &&\n            self.processWs[requestId] &&\n            util.isArray(self.processWs[requestId]) &&\n            self.processWs[requestId].length > 1 &&\n            util.isFunction(self.processWs[requestId][1])\n          ) {\n            self.processWs[requestId][1](e)\n          }\n          requestId = void 0\n        })\n        options = resolve = reject = void 0\n      })\n    })\n  },\n  conn: function conn () {\n    if (!util.isArray(this.connPromise)) {\n      this.connPromise = []\n    }\n    var self = this\n    if (this.isWsConned) {\n      return Promise.resolve()\n    } else if (this.isWsConning === true) {\n      return new Promise(function (resolve, reject) {\n        self.connPromise.push([resolve, reject])\n      })\n    } else {\n      this.isWsConning = true\n      return Promise.all([\n        new Promise(function (resolve, reject) {\n          self.connPromise.push([resolve, reject])\n        }),\n        this.connRun()\n      ])\n    }\n  },\n  connCb: function connCb (e, res) {\n    var t\n    if (!Array.isArray(this.connPromise)) {\n      return Promise.resolve()\n    }\n    while ((t = this.connPromise.splice(0, 1)[0]) && t && t.length > 1) {\n      if (e) {\n        t && util.isFunction(t[1]) && t[1](e)\n      } else {\n        t && util.isFunction(t[0]) && t[0](res)\n      }\n    }\n  },\n  connRun: function connRun () {\n    var self = this\n    return new Promise(function (resolve, reject) {\n      try {\n        self.webSocket = new WebSocket(self.ws)\n\n        // 连接成功\n        self.webSocket.onopen = function (e) {\n          if (self) {\n            self.isWsConned = true\n            self.isWsConning = false\n            self.connCb()\n          }\n        }\n        self.webSocket.onmessage = function (res) {\n          if (self) {\n            rowraw.parsePromise(res.data || res)\n            // 解析成功\n            .then(function (res) {\n              var emitState\n              if (!self) return\n              if (res.type === 'response') {\n                self.response(res)\n              } else if (res.type === 'request') {\n                emitState = !self.emit(['request', (res.protocol || '').toLowerCase()], res)\n              } else {\n                emitState = !self.emit(['message', 'unknown error'], (res.data || res))\n              }\n              if (emitState) {\n                if (!self.emit('wsmessage', res)) {\n                  if (console && console.debug) {\n                    console.debug('webSocket::message\\n')\n                    console.debug(res)\n                  }\n                }\n              }\n            })\n            // 解析错误\n            .catch(function (e) {\n              console.error('webSocket.onmessage.catch', e, res)\n            })\n          }\n        }\n        // 关闭事件\n        self.webSocket.onclose = function (e) {\n          if (self) {\n            self.isWsConned = false\n            self.isWsConning = false\n          }\n          self = void 0\n        }\n        // 错误事件\n        self.webSocket.onerror = function (e) {\n          if (self) {\n            self.isWsConned = false\n            self._isTryNum = self._isTryNum || 0\n            self._isTrySum = self._isTrySum || 3\n            if (self._isTryNum++ < self._isTrySum) {\n              util.nextTick(function () {\n                this && this.connRun()\n              }.bind(self))\n            } else {\n              self.isWsConning = false\n              if (!(e instanceof Error)) {\n                var olde = e\n                e = new Error('Connection closed before receiving a handshake response')\n                e.olde = olde\n              }\n              self.connCb(e)\n            }\n            self = void 0\n          }\n        }\n        resolve()\n      } catch (e) {\n        if (self) {\n          self.isWsConned = false\n          self._isTryNum = self._isTryNum || 0\n          self._isTrySum = self._isTrySum || 3\n          if (self._isTryNum++ < self._isTrySum) {\n            util.nextTick(function () {\n              this && this.connRun().then(resolve, reject)\n            }.bind(self))\n          } else {\n            self.connCb(e)\n          }\n          self = void 0\n        }\n        resolve()\n      }\n    })\n  },\n  response: function response (res) {\n    var requestId, cbs, code, e\n    if (!(res && res.headers && (requestId = (res.headers.requestId || res.headers.request_id)))) {\n      return\n    }\n    if (this.processWs && (cbs = this.processWs[requestId]) && util.isArray(cbs) && cbs.length > 1) {\n      delete this.processWs[requestId]\n      code = parseInt(res.status || 0) || 0\n      if (code >= 200 && code < 300) {\n        if (util.isFunction(cbs[0])) {\n          cbs[0]({\n            headers: res.headers || Object.create(null),\n            body: res.body || '',\n            res: res\n          })\n        }\n      } else {\n        if (util.isFunction(cbs[1])) {\n          e = new Error(res.statusText || 'unknown error')\n          Object.assign(e, res)\n          cbs[1](e)\n        }\n      }\n    }\n    cbs = requestId = code = void 0\n  },\n  wsPushInit: function () {\n    this.on(['request', 'push'], function (res) {\n      if (!this.emit(['push', (res.method || '').toLowerCase(), (res.path || '/')], res.headers, res.body, res)) {\n        if (!this.emit('wspush', res)) {\n          if (console && console.debug) {\n            console.debug('webSocket::push\\n')\n            console.debug(res)\n          }\n        }\n      }\n    })\n    this.on(['push', 'ping', '/v1_0/sign'], function (headers, body) {\n      if (!headers.request_id) {\n        console.error('推送系统故障！')\n        console.error(headers)\n      }\n      var o\n      o = Object.create(null)\n      o.baseUrl = o.baseUrl || api.baseUrl\n      o.headers = JSON.parse(headers.headers)\n      o.method = headers.method || 'PUT'\n      o.path = headers.path || '/'\n      o.body = ''\n      o.path = (o.path.charAt(0) === '/' ? '' : '/') + o.path\n      o.query = url('query', o.path) || ''\n      o.path = url('path', o.path) || '/'\n      o.host = url('hostname', o.baseUrl)\n      o.protocol = url('protocol', o.baseUrl)\n      o.port = url('port', o.baseUrl)\n      o.request_id = headers.request_id\n      sign(o)\n      .then(function (options) {\n        var headersR = Object.create(null)\n        headersR = Object.assign(headersR, o.headers, options.headers)\n        headersR.request_id = headers.request_id\n        return rowraw.stringifyPromise(headersR, '', 'PUSH/1.0 200 OK')\n      })\n      .catch(function (e) {\n        var headersR = Object.create(null)\n        headersR = Object.assign(headersR, o.headers)\n        headersR.request_id = headers.request_id\n        return rowraw.stringifyPromise(headersR, '', ('PUSH/1.0 ' + (e.code || 400) + ' ' + ((e && e.message) || 'OK')))\n      })\n      // 编码后\n      .then(function (raw) {\n        this.webSocket.send(raw, function sendCb (e) {\n        })\n        raw = void 0\n      }.bind(this))\n    })\n  },\n  closeWs: function closeWs () {\n\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./lib/requestWsPrototype.js",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Hex;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/enc-hex.js\n// module id = 18\n// module chunks = 0",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/enc-utf8.js\n// module id = 19\n// module chunks = 0",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/hmac-sha256.js\n// module id = 20\n// module chunks = 0",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/hmac.js\n// module id = 21\n// module chunks = 0",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Constants table\n\t    var T = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        for (var i = 0; i < 64; i++) {\n\t            T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n\t        }\n\t    }());\n\n\t    /**\n\t     * MD5 hash algorithm.\n\t     */\n\t    var MD5 = C_algo.MD5 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Swap endian\n\t            for (var i = 0; i < 16; i++) {\n\t                // Shortcuts\n\t                var offset_i = offset + i;\n\t                var M_offset_i = M[offset_i];\n\n\t                M[offset_i] = (\n\t                    (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n\t                    (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n\t                );\n\t            }\n\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var M_offset_0  = M[offset + 0];\n\t            var M_offset_1  = M[offset + 1];\n\t            var M_offset_2  = M[offset + 2];\n\t            var M_offset_3  = M[offset + 3];\n\t            var M_offset_4  = M[offset + 4];\n\t            var M_offset_5  = M[offset + 5];\n\t            var M_offset_6  = M[offset + 6];\n\t            var M_offset_7  = M[offset + 7];\n\t            var M_offset_8  = M[offset + 8];\n\t            var M_offset_9  = M[offset + 9];\n\t            var M_offset_10 = M[offset + 10];\n\t            var M_offset_11 = M[offset + 11];\n\t            var M_offset_12 = M[offset + 12];\n\t            var M_offset_13 = M[offset + 13];\n\t            var M_offset_14 = M[offset + 14];\n\t            var M_offset_15 = M[offset + 15];\n\n\t            // Working varialbes\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\n\t            // Computation\n\t            a = FF(a, b, c, d, M_offset_0,  7,  T[0]);\n\t            d = FF(d, a, b, c, M_offset_1,  12, T[1]);\n\t            c = FF(c, d, a, b, M_offset_2,  17, T[2]);\n\t            b = FF(b, c, d, a, M_offset_3,  22, T[3]);\n\t            a = FF(a, b, c, d, M_offset_4,  7,  T[4]);\n\t            d = FF(d, a, b, c, M_offset_5,  12, T[5]);\n\t            c = FF(c, d, a, b, M_offset_6,  17, T[6]);\n\t            b = FF(b, c, d, a, M_offset_7,  22, T[7]);\n\t            a = FF(a, b, c, d, M_offset_8,  7,  T[8]);\n\t            d = FF(d, a, b, c, M_offset_9,  12, T[9]);\n\t            c = FF(c, d, a, b, M_offset_10, 17, T[10]);\n\t            b = FF(b, c, d, a, M_offset_11, 22, T[11]);\n\t            a = FF(a, b, c, d, M_offset_12, 7,  T[12]);\n\t            d = FF(d, a, b, c, M_offset_13, 12, T[13]);\n\t            c = FF(c, d, a, b, M_offset_14, 17, T[14]);\n\t            b = FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n\t            a = GG(a, b, c, d, M_offset_1,  5,  T[16]);\n\t            d = GG(d, a, b, c, M_offset_6,  9,  T[17]);\n\t            c = GG(c, d, a, b, M_offset_11, 14, T[18]);\n\t            b = GG(b, c, d, a, M_offset_0,  20, T[19]);\n\t            a = GG(a, b, c, d, M_offset_5,  5,  T[20]);\n\t            d = GG(d, a, b, c, M_offset_10, 9,  T[21]);\n\t            c = GG(c, d, a, b, M_offset_15, 14, T[22]);\n\t            b = GG(b, c, d, a, M_offset_4,  20, T[23]);\n\t            a = GG(a, b, c, d, M_offset_9,  5,  T[24]);\n\t            d = GG(d, a, b, c, M_offset_14, 9,  T[25]);\n\t            c = GG(c, d, a, b, M_offset_3,  14, T[26]);\n\t            b = GG(b, c, d, a, M_offset_8,  20, T[27]);\n\t            a = GG(a, b, c, d, M_offset_13, 5,  T[28]);\n\t            d = GG(d, a, b, c, M_offset_2,  9,  T[29]);\n\t            c = GG(c, d, a, b, M_offset_7,  14, T[30]);\n\t            b = GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n\t            a = HH(a, b, c, d, M_offset_5,  4,  T[32]);\n\t            d = HH(d, a, b, c, M_offset_8,  11, T[33]);\n\t            c = HH(c, d, a, b, M_offset_11, 16, T[34]);\n\t            b = HH(b, c, d, a, M_offset_14, 23, T[35]);\n\t            a = HH(a, b, c, d, M_offset_1,  4,  T[36]);\n\t            d = HH(d, a, b, c, M_offset_4,  11, T[37]);\n\t            c = HH(c, d, a, b, M_offset_7,  16, T[38]);\n\t            b = HH(b, c, d, a, M_offset_10, 23, T[39]);\n\t            a = HH(a, b, c, d, M_offset_13, 4,  T[40]);\n\t            d = HH(d, a, b, c, M_offset_0,  11, T[41]);\n\t            c = HH(c, d, a, b, M_offset_3,  16, T[42]);\n\t            b = HH(b, c, d, a, M_offset_6,  23, T[43]);\n\t            a = HH(a, b, c, d, M_offset_9,  4,  T[44]);\n\t            d = HH(d, a, b, c, M_offset_12, 11, T[45]);\n\t            c = HH(c, d, a, b, M_offset_15, 16, T[46]);\n\t            b = HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n\t            a = II(a, b, c, d, M_offset_0,  6,  T[48]);\n\t            d = II(d, a, b, c, M_offset_7,  10, T[49]);\n\t            c = II(c, d, a, b, M_offset_14, 15, T[50]);\n\t            b = II(b, c, d, a, M_offset_5,  21, T[51]);\n\t            a = II(a, b, c, d, M_offset_12, 6,  T[52]);\n\t            d = II(d, a, b, c, M_offset_3,  10, T[53]);\n\t            c = II(c, d, a, b, M_offset_10, 15, T[54]);\n\t            b = II(b, c, d, a, M_offset_1,  21, T[55]);\n\t            a = II(a, b, c, d, M_offset_8,  6,  T[56]);\n\t            d = II(d, a, b, c, M_offset_15, 10, T[57]);\n\t            c = II(c, d, a, b, M_offset_6,  15, T[58]);\n\t            b = II(b, c, d, a, M_offset_13, 21, T[59]);\n\t            a = II(a, b, c, d, M_offset_4,  6,  T[60]);\n\t            d = II(d, a, b, c, M_offset_11, 10, T[61]);\n\t            c = II(c, d, a, b, M_offset_2,  15, T[62]);\n\t            b = II(b, c, d, a, M_offset_9,  21, T[63]);\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n\t            var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n\t            var nBitsTotalL = nBitsTotal;\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n\t                (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n\t            );\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n\t                (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n\t            );\n\n\t            data.sigBytes = (dataWords.length + 1) * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Shortcuts\n\t            var hash = this._hash;\n\t            var H = hash.words;\n\n\t            // Swap endian\n\t            for (var i = 0; i < 4; i++) {\n\t                // Shortcut\n\t                var H_i = H[i];\n\n\t                H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n\t                       (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n\t            }\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    function FF(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & c) | (~b & d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function GG(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & d) | (c & ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function HH(a, b, c, d, x, s, t) {\n\t        var n = a + (b ^ c ^ d) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function II(a, b, c, d, x, s, t) {\n\t        var n = a + (c ^ (b | ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.MD5('message');\n\t     *     var hash = CryptoJS.MD5(wordArray);\n\t     */\n\t    C.MD5 = Hasher._createHelper(MD5);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacMD5(message, key);\n\t     */\n\t    C.HmacMD5 = Hasher._createHmacHelper(MD5);\n\t}(Math));\n\n\n\treturn CryptoJS.MD5;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/md5.js\n// module id = 22\n// module chunks = 0",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/crypto-js/sha256.js\n// module id = 23\n// module chunks = 0","module.exports = require('./lib')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/ddv-rowraw/index.js\n// module id = 24\n// module chunks = 0","'use strict'\n/* global FileReader Blob */\nconst rowraw = module.exports = function () {}\n// 方法的字符串\nconst functionStr = typeof function () {}\nObject.assign(rowraw, {\n  // 判断是否为一个方法\n  isFunction (fn) {\n    return Boolean(typeof fn === functionStr)\n  }\n})\n\nrowraw.r = '\\r'\nrowraw.n = '\\n'\nrowraw.rn = rowraw.r + rowraw.n\nrowraw.rn2len = rowraw.rn.length * 2\n\nrowraw.stringifyPromise = function stringifyRaw (headers, body, start, callback) {\n  var _promise = new Promise(function (resolve, reject) {\n    try {\n      resolve(rowraw.stringify(headers, body, start))\n    } catch (e) {\n      reject(e)\n    }\n  })\n  if (rowraw.isFunction(callback)) {\n    _promise.then(function (res) {\n      callback(res)\n    }, function (e) {\n      callback(e)\n    })\n  }\n  return _promise\n}\nrowraw.parsePromise = function parseRaw (raw, callback) {\n  var _promise = new Promise(function (resolve, reject) {\n    rowraw.parse(raw, function (e, res) {\n      e ? reject(e) : resolve(res)\n    })\n  })\n  if (rowraw.isFunction(callback)) {\n    _promise.then(function (res) {\n      callback(res)\n    }, function (e) {\n      callback(e)\n    })\n  }\n  return _promise\n}\nrowraw.stringify = function stringifyRaw (headers, body, start, callback) {\n  if (callback === undefined && rowraw.isFunction(start)) {\n    callback = start\n    start = undefined\n  }\n  var key\n  var headersStr = ''\n  var isRnEnd = true\n  // 拼接header字符串,转buffer\n  for (key in headers) {\n    isRnEnd = false\n    headersStr += key + ': ' + (headers[key]) + rowraw.rn\n  }\n  headersStr += rowraw.rn\n  if (isRnEnd) {\n    // 内容中是否只有一个换行符\n    headersStr += rowraw.rn\n  }\n  headers = headersStr\n  if (typeof start === 'string') {\n    headers = start + (headers.length === rowraw.rn2len ? '' : rowraw.rn) + headers\n  }\n  headersStr = key = isRnEnd = start = undefined\n  if (typeof body === 'string') {\n    return rowraw.stringifyByString(headers, body, callback)\n  } else if ((typeof Buffer) !== void 0 && Buffer.isBuffer && Buffer.isBuffer(body)) {\n    return rowraw.stringifyByBuffer(headers, body, callback)\n  } else if ((typeof Blob) !== void 0 && (body instanceof Blob)) {\n    return rowraw.stringifyByBlob(headers, body, callback)\n  } else {\n    throw Error('Unable to parse the recognition input type')\n  }\n}\nrowraw.parse = function parseRaw (raw, callback) {\n  var e\n  if (typeof raw === 'string') {\n    return rowraw.parseByString(raw, callback)\n  } else if ((typeof Buffer) !== void 0 && Buffer.isBuffer && Buffer.isBuffer(raw)) {\n    return rowraw.parseByBuffer(raw, callback)\n  } else if ((typeof Blob) !== void 0 && (raw instanceof Blob)) {\n    if (typeof callback !== 'function') {\n      throw Error('The second argument must have a callback')\n    }\n    return rowraw.parseByBlob(raw, callback)\n  } else {\n    e = Error('Unable to parse the recognition input type')\n    if (typeof callback !== 'function') {\n      throw e\n    } else {\n      callback(e)\n    }\n  }\n}\nrowraw.stringifyByString = function stringifyByString (headersStr, body, callback) {\n  var raw = headersStr + (body || '')\n  headersStr = body = undefined\n  return rowraw.stringifyCb(raw, callback)\n}\nrowraw.stringifyByBuffer = function stringifyByBuffer (headersStr, body, callback) {\n  var raw = new Buffer(headersStr, 'utf-8')// 将头信息字符串转buffer\n  raw = Buffer.concat([raw, body])\n  headersStr = body = undefined\n  return rowraw.stringifyCb(raw, callback)\n}\nrowraw.stringifyByBlob = function stringifyByBuffer (headersStr, body, callback) {\n  var raw = new Blob([headersStr, body])// 将头信息字符串转buffer\n  headersStr = body = undefined\n  return rowraw.stringifyCb(raw, callback)\n}\nrowraw.stringifyCb = function (raw, callback) {\n  if (typeof callback === 'function') {\n    callback(raw)\n    callback = raw = undefined\n  } else {\n    callback = undefined\n    return raw\n  }\n}\n/**\n * [parseChunk description]\n * -1 继续\n * 0  终止\n * 1  解析\n */\nrowraw.parseChunk = function parseChunk (chunk, p, _r, _n) {\n  var r\n  p = p || {}\n  p.chunk_prev_1 = p.chunk_prev_1 || null\n  p.chunk_prev_2 = p.chunk_prev_2 || null\n  r = -1\n  // 如果是换行符\n  if (chunk === _r) {\n    // 忽略\n  } else if (chunk === _n) {\n    // 双回车终止\n    if (p.chunk_prev_2 === _n) {\n      r = 0\n    } else {\n      r = 1\n    }\n  }\n  p.chunk_prev_2 = p.chunk_prev_1\n  p.chunk_prev_1 = chunk\n  chunk = undefined\n  return r\n}\nrowraw.parseByString = function (raw, callback) {\n  var chunk, i, r, pr\n  var len = raw.length\n  var p = {}\n  var start = 0\n  var rawHeaders = []\n  for (i = 0; i < len; i++) {\n    // 提取一个字符串\n    chunk = raw.charAt(i)\n    pr = rowraw.parseChunk(chunk, p, '\\r', '\\n')\n    if (pr === 1) {\n      rowraw.parseLine(raw.substr(start, (i - 1 - start)), rawHeaders)\n      start = i + 1\n    } else if (pr === 0) {\n      raw = (len - 1 > i) ? raw.substr(i + 1) : ''\n      break\n    }\n  }\n  r = rowraw.parseHeaderCb('string', rawHeaders, raw, callback)\n  i = len = raw = p = start = rawHeaders = pr = undefined\n  return r\n}\nrowraw.parseByBuffer = function (raw, callback) {\n  var chunk, i, r, pr\n  var len = raw.length\n  var p = {}\n  var start = 0\n  var rawHeaders = []\n  for (i = 0; i < len; i++) {\n    // 提取一个字符串\n    chunk = raw[i]\n    pr = rowraw.parseChunk(chunk, p, 0x0d, 0x0a)\n    if (pr === 1) {\n      rowraw.parseLine(raw.slice(start, i - 1).toString(), rawHeaders)\n      start = i + 1\n    } else if (pr === 0) {\n      raw = (len - 1 > i) ? raw.slice(i + 1) : (new Buffer(0))\n      break\n    }\n  }\n  r = rowraw.parseHeaderCb('buffer', rawHeaders, raw, callback)\n  i = len = raw = p = start = rawHeaders = pr = undefined\n  return r\n}\nrowraw.parseByBlob = function (raw, callback) {\n  var size = raw.size\n  var p = {}\n  var start = 0\n  var end = 10\n  var rawHeaders = []\n  var pr, fileReader, fileReaderRun\n  var isReadRow = false\n  var isReadRowEnd = false\n  var rowStart = 0\n  fileReader = new FileReader()\n  // 文件读取后的处理\n  fileReader.onload = function (e) {\n    var chunk, chunkI, chunkResI, chunkLen\n    chunk = e.target.result\n    if (isReadRow) {\n      rowraw.parseLine(chunk.toString(), rawHeaders)\n      end = start = rowStart = end + 2\n      isReadRow = false\n      if (isReadRowEnd) {\n        rowraw.parseHeaderCb('blob', rawHeaders, raw.slice((start + '\\r\\n'.length)), callback)\n        fileReader = fileReaderRun = undefined\n        size = p = start = end = rawHeaders = isReadRow = isReadRowEnd = rowStart = undefined\n        return\n      }\n    } else {\n      for (chunkI = 0, chunkLen = chunk.length; chunkI < chunkLen; chunkI++) {\n        // 提取一个字符串\n        chunkResI = chunk.charAt(chunkI)\n        pr = rowraw.parseChunk(chunkResI, p, '\\r', '\\n')\n        if (pr === 1) {\n          // 解析一条\n          isReadRow = true\n          end = end - (chunkLen - chunkI) - 1\n          start = rowStart\n          break\n        } else if (pr === 0) {\n          // 终止\n          isReadRowEnd = true\n          isReadRow = true\n          end = end - (chunkLen - chunkI) - 1\n          start = rowStart\n          break\n        }\n      }\n    }\n    chunk = chunkI = chunkResI = chunkLen = undefined\n    if (start <= size) {\n      if (isReadRow !== true) {\n        start = end\n        end = start + 12\n      }\n      fileReaderRun()\n    }\n  }\n  fileReader.onerror = function (e) {\n    callback(e)\n  }\n  fileReaderRun = function fileReaderRun () {\n    start = start || 0\n    end = Math.min(end, size)\n    if (start > size) {\n      return true\n    }\n    // 开始读流\n    try {\n      fileReader.readAsText(raw.slice(start, end))\n    } catch (e) {\n      throw Error('Failed to read blob')\n    }\n  }\n  fileReaderRun()\n}\nrowraw.parseHeaderCb = function (bodytype, rawHeaders, raw, callback) {\n  var r, i, len\n  r = {\n    rawHeaders: rawHeaders,\n    headers: {},\n    body: raw,\n    bodytype: bodytype,\n    type: 'unknow'\n  }\n  if (Array.isArray(rawHeaders) && typeof rawHeaders[0] === 'object') {\n    Object.assign(r, rawHeaders.shift())\n  }\n  len = rawHeaders.length || 0\n  for (i = 0; i < len; i++) {\n    r.headers[(rawHeaders[i]).toLowerCase().trim().replace(/-/g, '_')] = ((rawHeaders[++i]).toString() || '').trim()\n  }\n  i = len = undefined\n  if (typeof callback === 'function') {\n    callback(null, r)\n    callback = r = undefined\n  } else {\n    callback = undefined\n    return r\n  }\n}\nrowraw.exp = Object.create(null)\nrowraw.exp.start = /^[A-Z_]+(\\/\\d\\.\\d)? /\nrowraw.exp.request = /^([A-Z_]+) (.+) ([A-Z]+)\\/(\\d)\\.(\\d)$/\nrowraw.exp.status = /^([A-Z]+)\\/(\\d)\\.(\\d) (\\d{3}) (.*)$/\nrowraw.exp.header = /^([^: \\t]+):[ \\t]*((?:.*[^ \\t])|)/\nrowraw.exp.headerContinue = /^[ \\t]+(.*[^ \\t])/\nrowraw.parseLine = function (line, headers) {\n  var match, isStartLine, t, matchContinue\n  if (headers.length < 1) {\n    if (rowraw.exp.start.test(line)) {\n      if ((match = rowraw.exp.status.exec(line)) && match[1]) {\n        t = {}\n        t.type = 'response'\n        t.version = [(match[2] || 0), (match[3] || 0)]\n        t.protocol = (match[1] || 'unknow')\n        t.status = (match[4] || 0)\n        t.statusText = (match[5] || 'unknow')\n        t.start_source = match[0] || ''\n        headers.push(t)\n      } else if ((match = rowraw.exp.request.exec(line)) && match[1]) {\n        t = {}\n        t.type = 'request'\n        t.version = [(match[4] || 0), (match[5] || 0)]\n        t.protocol = (match[3] || 'unknow')\n        t.method = (match[1] || 0)\n        t.path = (match[2] || 'unknow')\n        t.start_source = match[0] || ''\n        headers.push(t)\n      }\n      isStartLine = true; t = undefined\n    }\n  }\n  if (!isStartLine) {\n    if ((match = rowraw.exp.header.exec(line)) && match[1]) { // skip empty string (malformed header)\n      headers.push(match[1])\n      headers.push(match[2])\n    } else {\n      matchContinue = rowraw.exp.headerContinue.exec(line)\n      if (matchContinue && headers.length) {\n        if (headers[headers.length - 1]) {\n          headers[headers.length - 1] += ' '\n        }\n        headers[headers.length - 1] += matchContinue[1]\n      }\n      matchContinue = undefined\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/hua/Documents/pingqu/pingqu-cdn/~/ddv-rowraw/lib/index.js\n// module id = 25\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 28\n// module chunks = 0","'use strict'\nmodule.exports = require('./api.js')\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js"],"sourceRoot":""}